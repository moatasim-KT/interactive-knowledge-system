import{d as te,p as ae,a as E,J as re,f as h,j as x,R as m,t as Y,U as ie,r as b,v as se,g as a,s as H,i as l,h as v,O as g,w as n,n as y,T as w,e as R,L as oe,k as p,y as le}from"./D9dWO0Sc.js";function ne(f,r){r(!r())}var de=(f,r)=>(f.key==="Enter"||f.key===" ")&&r(),ce=h('<div role="button" tabindex="0" aria-label="Close sidebar overlay"></div>'),ve=h('<div class="flex justify-end p-4 border-b border-border"><button class="p-2 text-text-muted hover:text-text-primary hover:bg-surface-secondary rounded-md transition-colors" aria-label="Close sidebar"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div>'),fe=h('<header class="bg-surface border-b border-border sticky top-0 z-sticky safe-area-inset-top svelte-1x03dzj"><div class="flex items-center justify-between p-4 lg:hidden"><button class="touch-target p-2 text-text-muted hover:text-text-primary hover:bg-surface-secondary rounded-md transition-colors svelte-1x03dzj" aria-label="Toggle sidebar"><svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button> <div class="flex-1 text-center svelte-1x03dzj"><h1 class="text-lg font-semibold text-text-primary truncate svelte-1x03dzj">Interactive Knowledge System</h1></div> <div class="w-10"></div></div> <div class="hidden lg:block"><!></div></header>'),ue=h('<footer class="bg-surface border-t border-border"><!></footer>'),_e=h('<div><!> <aside aria-label="Sidebar navigation"><!> <div class="flex-1 overflow-y-auto svelte-1x03dzj"><!></div></aside> <div><!> <main class="flex-1 overflow-y-auto svelte-1x03dzj"><!></main> <!></div></div>');function he(f,r){ae(r,!0);let i=E(r,"sidebarOpen",15,!0),z=E(r,"sidebarWidth",3,"280px");E(r,"breakpoint",3,768);let s=H(!1),I=H(!1),d=H(0);function j(){p(d,window.innerWidth,!0),p(s,a(d)<640),p(I,a(d)>=640&&a(d)<1024,!0),a(s)&&i()&&a(d)<640&&i(!1),a(d)>=1024&&!i()&&i(!0)}function k(){a(s)&&i(!1)}let u=0,L=0;function J(t){if(!a(s))return;const e=t.touches[0];u=e.clientX,L=e.clientY}function K(t){if(!a(s)||!u)return;const e=t.touches[0],o=e.clientX-u,W=e.clientY-L;Math.abs(o)>Math.abs(W)&&Math.abs(o)>10&&(u<20&&o>50&&!i()?i(!0):o<-50&&i()&&i(!1))}function U(){u=0,L=0}re(()=>(j(),window.addEventListener("resize",j),()=>{window.removeEventListener("resize",j)}));const q=["min-h-screen bg-background transition-all duration-300","flex flex-col"].join(" ");let A=R(()=>["fixed lg:relative inset-y-0 left-0 z-fixed","bg-surface border-r border-border","transform transition-transform duration-300 ease-in-out","flex flex-col","safe-area-inset-left",i()?"translate-x-0":"-translate-x-full lg:translate-x-0",a(s)?"w-full max-w-sm mobile-scroll":"","touch-pan-y"].join(" ")),D=R(()=>["flex-1 flex flex-col","transition-all duration-300","safe-area-inset-right","mobile-scroll",!a(s)&&i()?`lg:ml-[${z()}]`:""].join(" ")),F=R(()=>["fixed inset-0 bg-black bg-opacity-50 z-40","transition-opacity duration-300",a(s)&&i()?"opacity-100":"opacity-0 pointer-events-none"].join(" "));var c=_e();c.__touchstart=J,c.__touchmove=K,c.__touchend=U;var B=l(c);{var G=t=>{var e=ce();e.__click=k,e.__keydown=[de,k],Y(()=>y(e,1,w(a(F)),"svelte-1x03dzj")),b(t,e)};x(B,t=>{a(s)&&t(G)})}var _=v(B,2),O=l(_);{var N=t=>{var e=ve(),o=l(e);o.__click=k,n(e),b(t,e)};x(O,t=>{a(s)&&t(N)})}var S=v(O,2),P=l(S);m(P,()=>r.sidebar??g),n(S),n(_);var M=v(_,2),T=l(M);{var Q=t=>{var e=fe(),o=l(e),W=l(o);W.__click=[ne,i],le(4),n(o);var X=v(o,2),ee=l(X);m(ee,()=>r.header??g),n(X),n(e),b(t,e)};x(T,t=>{r.header&&t(Q)})}var C=v(T,2),V=l(C);m(V,()=>r.children??g),n(C);var Z=v(C,2);{var $=t=>{var e=ue(),o=l(e);m(o,()=>r.footer??g),n(e),b(t,e)};x(Z,t=>{r.footer&&t($)})}n(M),n(c),Y(()=>{y(c,1,w(q),"svelte-1x03dzj"),y(_,1,w(a(A)),"svelte-1x03dzj"),oe(_,`width: ${(a(s)?"100%":z())??""}; max-width: ${(a(s)?"20rem":z())??""};`),y(M,1,w(a(D)),"svelte-1x03dzj")}),ie("innerWidth",t=>p(d,t,!0)),b(f,c),se()}te(["touchstart","touchmove","touchend","click","keydown"]);export{he as R};
