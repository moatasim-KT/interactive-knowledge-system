import{p as Ve,a as be,M as lt,e as u,s as se,f as c,h as i,k as b,i as s,g as t,r as a,G as ot,t as x,x as De,I as Xe,n as r,o as We,E as Ce,C as Me,y as pe,c as Ie,H as Oe,aC as bt,w as Pe,q as w,d as Ae,B as $e,D as Ye,N as pt,v as Ee,z as Le,at as et,V as ct,X as dt,j as Re,W as st,A as it,b as Fe,u as vt,aD as kt,m as ut,l as nt,aB as rt,F as yt}from"./d1NyGob4.js";import{a as Ne,b as Je,p as tt}from"./DG3UZo5P.js";import{v as xt,u as wt,w as zt,x as St,n as qt,k as at}from"./DsZ6whlC.js";import{m as Tt,r as Ze,c as _t,s as Qe}from"./BoPf8oN2.js";import"./B-gt8t9T.js";import"./BWJA31ZZ.js";import"./6rAla2r7.js";import"./D-faybVX.js";import"./Dob3nYDb.js";var Mt=c('<div class="error-placeholder svelte-1gkh4cv"><span class="error-icon svelte-1gkh4cv">‚ö†Ô∏è</span> <span class="error-text svelte-1gkh4cv">Failed to load image</span></div>'),Ct=c("<img/>"),At=c('<div class="error-placeholder svelte-1gkh4cv"><span class="error-icon svelte-1gkh4cv">‚ö†Ô∏è</span> <span class="error-text svelte-1gkh4cv">Failed to load video</span></div>'),Et=c('<video><track kind="captions" src="" srclang="en" label="English captions" class="svelte-1gkh4cv"/> Your browser does not support the video tag.</video>',2),It=c('<img alt="Video thumbnail" class="video-poster svelte-1gkh4cv"/>'),Dt=c('<div class="video-placeholder svelte-1gkh4cv"><!> <div class="play-button svelte-1gkh4cv"><svg width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-1gkh4cv"><circle cx="30" cy="30" r="30" fill="rgba(0,0,0,0.7)" class="svelte-1gkh4cv"></circle><path d="M23 20L40 30L23 40V20Z" fill="white" class="svelte-1gkh4cv"></path></svg></div></div>'),Bt=c('<div class="loading-indicator svelte-1gkh4cv"><div class="spinner svelte-1gkh4cv"></div></div>'),Rt=c("<div><!> <!></div>");function mt(g,e){Ve(e,!0);let n=be(e,"alt",3,""),k=be(e,"placeholder",3,""),ve=be(e,"options",19,()=>({})),_=be(e,"class",3,""),fe=be(e,"style",3,""),K=be(e,"controls",3,!0),ce=be(e,"autoplay",3,!1),S=be(e,"muted",3,!1),oe=be(e,"loop",3,!1);const{rootMargin:R="50px",threshold:de=.1,fadeIn:ke=!0}=ve();let re=se(!1),G=se(!1),M=se(!1),L,ee;const $=e.type==="image"?`data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='${e.width||400}' height='${e.height||300}'%3E%3Crect width='100%25' height='100%25' fill='%23f0f0f0'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' fill='%23999'%3ELoading...%3C/text%3E%3C/svg%3E`:"",ne=k()||$;lt(()=>(ee=new IntersectionObserver(z=>{z.forEach(T=>{T.isIntersecting&&(u(G,!0),ee.unobserve(T.target))})},{rootMargin:R,threshold:de}),L&&ee.observe(L),()=>{ee&&ee.disconnect()}));function ae(){u(re,!0)}function ge(){u(M,!0)}let ye=Ie(()=>t(G)?e.src:ne),y=Ie(()=>t(G)&&!t(M));var f=Rt();let q;var E=i(f);{var I=z=>{var T=Ce(),U=Me(T);{var P=v=>{var m=Mt();r(v,m)},d=v=>{var m=Ct();let N;x(O=>{pe(m,"src",t(ye)),pe(m,"alt",n()),pe(m,"width",e.width),pe(m,"height",e.height),N=De(m,1,"lazy-image svelte-1gkh4cv",null,N,O)},[()=>({loaded:t(re)&&t(G)})]),Oe("load",m,ae),Oe("error",m,ge),bt(m),r(v,m)};b(U,v=>{t(M)?v(P):v(d,!1)})}r(z,T)},B=z=>{var T=Ce(),U=Me(T);{var P=d=>{var v=Ce(),m=Me(v);{var N=F=>{var V=At();r(F,V)},O=F=>{var V=Ce(),D=Me(V);{var j=Y=>{var l=Et();let o;x(h=>{pe(l,"src",t(ye)),l.controls=K(),l.autoplay=ce(),l.muted=S(),l.loop=oe(),pe(l,"poster",e.poster),pe(l,"width",e.width),pe(l,"height",e.height),o=De(l,1,"lazy-video svelte-1gkh4cv",null,o,h)},[()=>({loaded:t(re)})]),Oe("loadeddata",l,ae),Oe("error",l,ge),r(Y,l)},Z=Y=>{var l=Dt(),o=i(l);{var h=p=>{var C=It();x(()=>pe(C,"src",e.poster)),r(p,C)};b(o,p=>{e.poster&&p(h)})}Pe(2),a(l),r(Y,l)};b(D,Y=>{t(y)?Y(j):Y(Z,!1)},!0)}r(F,V)};b(m,F=>{t(M)?F(N):F(O,!1)})}r(d,v)};b(U,d=>{e.type==="video"&&d(P)},!0)}r(z,T)};b(E,z=>{e.type==="image"?z(I):z(B,!1)})}var X=s(E,2);{var te=z=>{var T=Bt();r(z,T)};b(X,z=>{!t(G)&&!t(M)&&z(te)})}a(f),ot(f,z=>L=z,()=>L),x(z=>{q=De(f,1,`lazy-media ${_()??""}`,"svelte-1gkh4cv",q,z),Xe(f,fe())},[()=>({loaded:t(re),"fade-in":ke})]),r(g,f),We()}var Ot=c('<source type="image/avif"/>'),Ft=c('<source type="image/webp"/>'),Lt=c('<picture class="responsive-picture svelte-16oiart"><!> <!> <img class="responsive-image svelte-16oiart" loading="lazy"/></picture>'),Ut=c('<figcaption class="image-caption svelte-16oiart"> </figcaption>'),Pt=c("<figure><!> <!></figure>");function Nt(g,e){Ve(e,!0);let n=be(e,"lazyLoad",3,!0),k=be(e,"lazyOptions",19,()=>({})),ve=be(e,"class",3,""),_=be(e,"style",3,""),fe=Ie(()=>e.sizes?Object.entries(e.sizes).map(([L,ee])=>`${ee} ${{small:"480w",medium:"768w",large:"1200w",xlarge:"1920w"}[L]||"1x"}`).join(", "):""),K=Ie(()=>e.sizes?"(max-width: 480px) 100vw, (max-width: 768px) 100vw, (max-width: 1200px) 100vw, 1920px":"100vw"),ce=Ie(()=>e.avifSrc&&oe()?e.avifSrc:e.webpSrc&&S()?e.webpSrc:e.src);function S(){if(typeof window>"u")return!1;const L=document.createElement("canvas");return L.width=1,L.height=1,L.toDataURL("image/webp").indexOf("data:image/webp")===0}function oe(){if(typeof window>"u")return!1;const L=document.createElement("canvas");return L.width=1,L.height=1,L.toDataURL("image/avif").indexOf("data:image/avif")===0}var R=Pt(),de=i(R);{var ke=L=>{mt(L,{get src(){return t(ce)},get alt(){return e.alt},type:"image",get placeholder(){return e.placeholder},get options(){return k()},get width(){return e.width},get height(){return e.height},class:"responsive-image"})},re=L=>{var ee=Lt(),$=i(ee);{var ne=y=>{var f=Ot();x(()=>pe(f,"srcset",e.avifSrc)),r(y,f)};b($,y=>{e.avifSrc&&y(ne)})}var ae=s($,2);{var ge=y=>{var f=Ft();x(()=>pe(f,"srcset",e.webpSrc)),r(y,f)};b(ae,y=>{e.webpSrc&&y(ge)})}var ye=s(ae,2);a(ee),x(()=>{pe(ye,"src",e.src),pe(ye,"srcset",t(fe)),pe(ye,"sizes",t(K)),pe(ye,"alt",e.alt),pe(ye,"width",e.width),pe(ye,"height",e.height)}),r(L,ee)};b(de,L=>{n()?L(ke):L(re,!1)})}var G=s(de,2);{var M=L=>{var ee=Ut(),$=i(ee,!0);a(ee),x(()=>w($,e.caption)),r(L,ee)};b(G,L=>{e.caption&&L(M)})}a(R),x(()=>{De(R,1,`responsive-image-container ${ve()??""}`,"svelte-16oiart"),Xe(R,_())}),r(g,R),We()}function jt(g,e){const n=g.target;n.files&&n.files.length>0&&e(n.files)}var Qt=(g,e)=>g.key==="Enter"&&e(),Vt=c('<div class="upload-progress svelte-1qerwez"><div class="progress-bar svelte-1qerwez"><div class="progress-fill svelte-1qerwez"></div></div> <div class="progress-text svelte-1qerwez"> </div></div>'),Wt=c("<strong>Drop files here</strong>"),Ht=c("<strong>Click to upload</strong> or drag and drop",1),Gt=c('<div class="upload-content svelte-1qerwez"><div class="upload-icon svelte-1qerwez"><!></div> <div class="upload-text svelte-1qerwez"><!></div> <div class="upload-hint svelte-1qerwez"> </div></div>'),Jt=c('<div role="button" tabindex="0"><input type="file" class="file-input svelte-1qerwez"/> <!></div>');function ft(g,e){Ve(e,!0);const n=$e();let k=be(e,"accept",3,"image/*,video/*"),ve=be(e,"multiple",3,!1),_=be(e,"options",19,()=>({})),fe=be(e,"class",3,""),K=be(e,"disabled",3,!1),ce=se(!1),S=se(!1),oe=se(0),R=se(void 0);const de={maxSize:10*1024*1024,allowedTypes:["image/*","video/*"],quality:.8,maxWidth:1920,maxHeight:1080,generateThumbnail:!0,generateWebP:!0,..._()};async function ke(f){if(!(K()||t(S))){u(S,!0),u(oe,0);try{const q=Array.from(f),E=q.length;for(let I=0;I<q.length;I++){const B=q[I],X=xt(B,de);if(!X.valid){n("error",X.error||"Invalid file");continue}await re(B),u(oe,(I+1)/E*100),n("progress",{loaded:I+1,total:E})}}catch(q){n("error",q instanceof Error?q.message:"Upload failed")}finally{u(S,!1),u(oe,0)}}}async function re(f){const q={id:crypto.randomUUID(),name:f.name,type:f.type.startsWith("image/")?"image":f.type.startsWith("video/")?"video":"audio",mimeType:f.type,size:f.size,url:"",thumbnailUrl:void 0,metadata:{created:new Date,modified:new Date,width:void 0,height:void 0,duration:void 0},optimized:void 0};let E;if(f.type.startsWith("image/")){const I=await wt(f,de);E=I.original,(I.webp||I.thumbnail)&&(q.optimized={},I.webp&&(q.optimized.webp=I.webp),I.thumbnail&&(q.thumbnailUrl=I.thumbnail));const B=new Image;B.onload=()=>{q.metadata.width=B.width,q.metadata.height=B.height},B.src=E}else if(f.type.startsWith("video/")){const I=await zt(f,de);E=I.original,I.thumbnail&&(q.thumbnailUrl=I.thumbnail);const B=document.createElement("video");B.onloadedmetadata=()=>{q.metadata.width=B.videoWidth,q.metadata.height=B.videoHeight,q.metadata.duration=B.duration},B.src=URL.createObjectURL(f)}E!==void 0?await Tt.storeMedia(q,E):n("error","Processed data is undefined, cannot store media."),q.url=`media://${q.id}`,n("upload",q)}function G(f){f.preventDefault(),u(ce,!1),f.dataTransfer?.files&&ke(f.dataTransfer.files)}function M(f){f.preventDefault(),u(ce,!0)}function L(){u(ce,!1)}function ee(){!K()&&!t(S)&&t(R)&&t(R).click()}var $=Jt();let ne;$.__click=ee,$.__keydown=[Qt,ee];var ae=i($);ae.__change=[jt,ke],ot(ae,f=>u(R,f),()=>t(R));var ge=s(ae,2);{var ye=f=>{var q=Vt(),E=i(q),I=i(E);a(E);var B=s(E,2),X=i(B);a(B),a(q),x(te=>{Xe(I,`width: ${t(oe)??""}%`),w(X,`Uploading... ${te??""}%`)},[()=>Math.round(t(oe))]),r(f,q)},y=f=>{var q=Gt(),E=i(q),I=i(E);{var B=v=>{var m=Ye("üìÅ");r(v,m)},X=v=>{var m=Ye("üìé");r(v,m)};b(I,v=>{t(ce)?v(B):v(X,!1)})}a(E);var te=s(E,2),z=i(te);{var T=v=>{var m=Wt();r(v,m)},U=v=>{var m=Ht();Pe(),r(v,m)};b(z,v=>{t(ce)?v(T):v(U,!1)})}a(te);var P=s(te,2),d=i(P);a(P),a(q),x((v,m)=>w(d,`${v??""}
				up to ${m??""}`),[()=>k().includes("image")&&k().includes("video")?"Images and videos":k().includes("image")?"Images only":k().includes("video")?"Videos only":"Media files",()=>St(de.maxSize||10485760)]),r(f,q)};b(ge,f=>{t(S)?f(ye):f(y,!1)})}a($),x(f=>{ne=De($,1,`media-upload ${fe()??""}`,"svelte-1qerwez",ne,f),pe(ae,"accept",k()),ae.multiple=ve(),ae.disabled=K()},[()=>({"drag-over":t(ce),uploading:t(S),disabled:K()})]),Oe("drop",$,G),Oe("dragover",$,M),Oe("dragleave",$,L),r(g,$),We()}Ae(["click","keydown","change"]);function Yt(g,e,n){if(e.block.type==="quiz"){const k=[...e.block.content.options||[],"New option"];n({...e.block.content,options:k})}}var Kt=c('<div class="text-editor svelte-kv1zaw" contenteditable="true"><!></div>'),Zt=c('<div class="image-placeholder svelte-kv1zaw"><span>üì∑ No image selected</span></div>'),Xt=(g,e,n)=>e({...n.block.content,alt:g.currentTarget.value}),$t=(g,e,n)=>e({...n.block.content,caption:g.currentTarget.value}),ea=c('<div class="image-controls svelte-kv1zaw"><input type="text" placeholder="Alt text" class="text-input svelte-kv1zaw"/> <input type="text" placeholder="Caption" class="text-input svelte-kv1zaw"/></div>'),ta=c('<div class="image-block svelte-kv1zaw"><!> <!></div>'),aa=c('<div class="video-placeholder svelte-kv1zaw"><span>üé• No video selected</span></div>'),ia=(g,e,n)=>e({...n.block.content,title:g.currentTarget.value}),la=(g,e,n)=>e({...n.block.content,description:g.currentTarget.value}),sa=c('<div class="video-info"> <!></div>'),ra=c('<div class="video-controls svelte-kv1zaw"><input type="text" placeholder="Video title" class="text-input svelte-kv1zaw"/> <textarea placeholder="Video description" class="textarea-input svelte-kv1zaw" rows="3"></textarea> <!></div>'),na=c('<div class="video-block"><!> <!></div>'),oa=(g,e,n)=>e({...n.block.content,language:g.currentTarget.value}),va=c('<div class="code-controls svelte-kv1zaw"><select class="language-select svelte-kv1zaw"><option>JavaScript</option><option>TypeScript</option><option>Python</option><option>HTML</option><option>CSS</option><option>JSON</option><option>Markdown</option></select></div>'),ca=(g,e,n)=>e({...n.block.content,code:g.currentTarget.value}),da=c('<div class="code-block"><div class="code-fallback"><!> <textarea class="code-textarea svelte-kv1zaw" placeholder="Enter your code here..." spellcheck="false"></textarea></div></div>'),ua=(g,e,n)=>e({...n.block.content,question:g.currentTarget.value}),_a=(g,e,n)=>e({...n.block.content,type:g.currentTarget.value}),fa=c('<div class="quiz-option svelte-kv1zaw"><input type="radio"/> <input type="text" class="option-input svelte-kv1zaw"/> <button class="remove-option-btn svelte-kv1zaw" type="button">‚ùå</button></div>'),ga=c('<div class="quiz-options svelte-kv1zaw"><!> <button class="add-option-btn svelte-kv1zaw" type="button">‚ûï Add Option</button></div>'),ma=(g,e,n)=>e({...n.block.content,correctAnswer:!0}),ha=(g,e,n)=>e({...n.block.content,correctAnswer:!1}),ba=c('<div class="true-false-options svelte-kv1zaw"><label class="svelte-kv1zaw"><input type="radio" value="true"/> True</label> <label class="svelte-kv1zaw"><input type="radio" value="false"/> False</label></div>'),pa=(g,e,n)=>e({...n.block.content,correctAnswer:g.currentTarget.value}),ka=c('<div class="fill-blank-controls svelte-kv1zaw"><input type="text" placeholder="Correct answer" class="answer-input svelte-kv1zaw"/></div>'),ya=c('<div class="quiz-controls svelte-kv1zaw"><input type="text" placeholder="Enter your question" class="question-input svelte-kv1zaw"/> <select class="quiz-type-select svelte-kv1zaw"><option>Multiple Choice</option><option>True/False</option><option>Fill in the Blank</option></select></div> <!>',1),xa=c('<div class="quiz-preview svelte-kv1zaw"><h4 class="svelte-kv1zaw"> </h4> <p class="quiz-type svelte-kv1zaw"> </p></div>'),wa=c('<div class="quiz-block"><!></div>'),za=(g,e,n)=>e({...n.block.content,front:g.currentTarget.value}),Sa=(g,e,n)=>e({...n.block.content,back:g.currentTarget.value}),qa=c('<div class="flashcard-editor"><div class="flashcard-side svelte-kv1zaw"><label class="svelte-kv1zaw">Front:</label> <textarea class="flashcard-textarea svelte-kv1zaw" placeholder="Front of the card"></textarea></div> <div class="flashcard-side svelte-kv1zaw"><label class="svelte-kv1zaw">Back:</label> <textarea class="flashcard-textarea svelte-kv1zaw" placeholder="Back of the card"></textarea></div></div>'),Ta=c('<div class="flashcard-preview svelte-kv1zaw"><div class="flashcard-front svelte-kv1zaw"><strong>Front:</strong> </div> <div class="flashcard-back svelte-kv1zaw"><strong>Back:</strong> </div></div>'),Ma=c('<div class="flashcard-block svelte-kv1zaw"><!></div>'),Ca=c('<div class="diagram-block"><div class="diagram-placeholder svelte-kv1zaw"><span>üìä Diagram support coming soon</span> <p>This will support flowcharts, mind maps, and other visual diagrams.</p></div></div>'),Aa=c("<div><!></div>");function Ea(g,e){Ve(e,!0);const n=$e();function k(G){n("update",{content:G,metadata:{...e.block.metadata,modified:new Date,version:e.block.metadata.version+1}})}let ve=se(void 0);function _(){t(ve)&&e.block.type==="text"&&k({html:t(ve).innerHTML})}function fe(G){const M=G.detail;k({...e.block.content,src:M.url,title:M.name,mediaId:M.id,thumbnailUrl:M.thumbnailUrl,optimized:M.optimized,metadata:{width:M.metadata.width,height:M.metadata.height,duration:M.metadata.duration}})}function K(G){const M=G.detail;console.error("Media upload error:",M)}function ce(G,M){if(e.block.type==="quiz"){const L=[...e.block.content.options||[]];L[G]=M,k({...e.block.content,options:L})}}function S(G){if(e.block.type==="quiz"){const M=[...e.block.content.options||[]];M.splice(G,1),k({...e.block.content,options:M})}}var oe=Aa();let R;var de=i(oe);{var ke=G=>{var M=Kt();M.__input=_;var L=i(M);pt(L,()=>e.block.content.html||"<p>Enter your text here...</p>"),a(M),ot(M,ee=>u(ve,ee),()=>t(ve)),Oe("blur",M,_),r(G,M)},re=G=>{var M=Ce(),L=Me(M);{var ee=ne=>{var ae=ta(),ge=i(ae);{var ye=E=>{{let I=Ie(()=>e.block.content.alt||""),B=Ie(()=>e.block.content.optimized?.webp),X=Ie(()=>e.block.content.optimized?.sizes),te=Ie(()=>e.block.content.metadata?.width),z=Ie(()=>e.block.content.metadata?.height);Nt(E,{get src(){return e.block.content.src},get alt(){return t(I)},get webpSrc(){return t(B)},get sizes(){return t(X)},get caption(){return e.block.content.caption},lazyLoad:!0,get width(){return t(te)},get height(){return t(z)},class:"block-image"})}},y=E=>{var I=Ce(),B=Me(I);{var X=z=>{ft(z,{accept:"image/*",onupload:fe,onerror:K,class:"image-upload"})},te=z=>{var T=Zt();r(z,T)};b(B,z=>{e.isSelected?z(X):z(te,!1)},!0)}r(E,I)};b(ge,E=>{e.block.content.src?E(ye):E(y,!1)})}var f=s(ge,2);{var q=E=>{var I=ea(),B=i(I);Ee(B),B.__input=[Xt,k,e];var X=s(B,2);Ee(X),X.__input=[$t,k,e],a(I),x(()=>{Le(B,e.block.content.alt||""),Le(X,e.block.content.caption||"")}),r(E,I)};b(f,E=>{e.isSelected&&e.block.content.src&&E(q)})}a(ae),r(ne,ae)},$=ne=>{var ae=Ce(),ge=Me(ae);{var ye=f=>{var q=na(),E=i(q);{var I=z=>{{let T=Ie(()=>e.block.content.metadata?.width),U=Ie(()=>e.block.content.metadata?.height);mt(z,{get src(){return e.block.content.src},type:"video",controls:!0,get poster(){return e.block.content.thumbnailUrl},get width(){return t(T)},get height(){return t(U)},class:"block-video"})}},B=z=>{var T=Ce(),U=Me(T);{var P=v=>{ft(v,{accept:"video/*",onupload:fe,onerror:K,class:"video-upload"})},d=v=>{var m=aa();r(v,m)};b(U,v=>{e.isSelected?v(P):v(d,!1)},!0)}r(z,T)};b(E,z=>{e.block.content.src?z(I):z(B,!1)})}var X=s(E,2);{var te=z=>{var T=ra(),U=i(T);Ee(U),U.__input=[ia,k,e];var P=s(U,2);et(P),P.__input=[la,k,e];var d=s(P,2);{var v=m=>{var N=sa(),O=i(N),F=s(O);{var V=D=>{var j=Ye();x(()=>w(j,`‚Ä¢ ${e.block.content.metadata.width??""}√ó${e.block.content.metadata.height??""}`)),r(D,j)};b(F,D=>{e.block.content.metadata.width&&e.block.content.metadata.height&&D(V)})}a(N),x(D=>w(O,`Duration: ${D??""}s `),[()=>Math.round(e.block.content.metadata.duration)]),r(m,N)};b(d,m=>{e.block.content.metadata?.duration&&m(v)})}a(T),x(()=>{Le(U,e.block.content.title||""),Le(P,e.block.content.description||"")}),r(z,T)};b(X,z=>{e.isSelected&&e.block.content.src&&z(te)})}a(q),r(f,q)},y=f=>{var q=Ce(),E=Me(q);{var I=X=>{var te=da(),z=i(te),T=i(z);{var U=d=>{var v=va(),m=i(v);m.__change=[oa,k,e];var N=i(m);N.value=N.__value="javascript";var O=s(N);O.value=O.__value="typescript";var F=s(O);F.value=F.__value="python";var V=s(F);V.value=V.__value="html";var D=s(V);D.value=D.__value="css";var j=s(D);j.value=j.__value="json";var Z=s(j);Z.value=Z.__value="markdown",a(m);var Y;ct(m),a(v),x(()=>{Y!==(Y=e.block.content.language||"javascript")&&(m.value=(m.__value=e.block.content.language||"javascript")??"",dt(m,e.block.content.language||"javascript"))}),r(d,v)};b(T,d=>{e.isSelected&&d(U)})}var P=s(T,2);et(P),P.__input=[ca,k,e],a(z),a(te),x(()=>Le(P,e.block.content.code||"")),r(X,te)},B=X=>{var te=Ce(),z=Me(te);{var T=P=>{var d=wa(),v=i(d);{var m=O=>{var F=ya(),V=Me(F),D=i(V);Ee(D),D.__input=[ua,k,e];var j=s(D,2);j.__change=[_a,k,e];var Z=i(j);Z.value=Z.__value="multiple-choice";var Y=s(Z);Y.value=Y.__value="true-false";var l=s(Y);l.value=l.__value="fill-blank",a(j);var o;ct(j),a(V);var h=s(V,2);{var p=W=>{var A=ga(),H=i(A);Re(H,17,()=>e.block.content.options||[],it,(ie,le,ze)=>{var Se=fa(),we=i(Se);Ee(we),we.__change=()=>k({...e.block.content,correctAnswer:ze});var Te=s(we,2);Ee(Te),Te.__input=J=>ce(ze,J.currentTarget.value);var ue=s(Te,2);ue.__click=()=>S(ze),a(Se),x(()=>{pe(we,"name",`correct-${e.block.id??""}`),st(we,e.block.content.correctAnswer===ze),Le(Te,t(le))}),r(ie,Se)});var Q=s(H,2);Q.__click=[Yt,e,k],a(A),r(W,A)},C=W=>{var A=Ce(),H=Me(A);{var Q=le=>{var ze=ba(),Se=i(ze),we=i(Se);Ee(we),we.__change=[ma,k,e],Pe(),a(Se);var Te=s(Se,2),ue=i(Te);Ee(ue),ue.__change=[ha,k,e],Pe(),a(Te),a(ze),x(()=>{pe(we,"name",`tf-${e.block.id??""}`),st(we,e.block.content.correctAnswer===!0),pe(ue,"name",`tf-${e.block.id??""}`),st(ue,e.block.content.correctAnswer===!1)}),r(le,ze)},ie=le=>{var ze=Ce(),Se=Me(ze);{var we=Te=>{var ue=ka(),J=i(ue);Ee(J),J.__input=[pa,k,e],a(ue),x(()=>Le(J,e.block.content.correctAnswer||"")),r(Te,ue)};b(Se,Te=>{e.block.content.type==="fill-blank"&&Te(we)},!0)}r(le,ze)};b(H,le=>{e.block.content.type==="true-false"?le(Q):le(ie,!1)},!0)}r(W,A)};b(h,W=>{e.block.content.type==="multiple-choice"?W(p):W(C,!1)})}x(()=>{Le(D,e.block.content.question||""),o!==(o=e.block.content.type||"multiple-choice")&&(j.value=(j.__value=e.block.content.type||"multiple-choice")??"",dt(j,e.block.content.type||"multiple-choice"))}),r(O,F)},N=O=>{var F=xa(),V=i(F),D=i(V,!0);a(V);var j=s(V,2),Z=i(j);a(j),a(F),x(()=>{w(D,e.block.content.question||"Quiz Question"),w(Z,`Type: ${e.block.content.type||"multiple-choice"}`)}),r(O,F)};b(v,O=>{e.isSelected?O(m):O(N,!1)})}a(d),r(P,d)},U=P=>{var d=Ce(),v=Me(d);{var m=O=>{var F=Ma(),V=i(F);{var D=Z=>{var Y=qa(),l=i(Y),o=i(l),h=s(o,2);et(h),h.__input=[za,k,e],a(l);var p=s(l,2),C=i(p),W=s(C,2);et(W),W.__input=[Sa,k,e],a(p),a(Y),x(()=>{pe(o,"for",`flashcard-front-${e.block.id??""}`),pe(h,"id",`flashcard-front-${e.block.id??""}`),Le(h,e.block.content.front||""),pe(C,"for",`flashcard-back-${e.block.id??""}`),pe(W,"id",`flashcard-back-${e.block.id??""}`),Le(W,e.block.content.back||"")}),r(Z,Y)},j=Z=>{var Y=Ta(),l=i(Y),o=s(i(l));a(l);var h=s(l,2),p=s(i(h));a(h),a(Y),x(()=>{w(o,` ${e.block.content.front||"Front of card"}`),w(p,` ${e.block.content.back||"Back of card"}`)}),r(Z,Y)};b(V,Z=>{e.isSelected?Z(D):Z(j,!1)})}a(F),r(O,F)},N=O=>{var F=Ce(),V=Me(F);{var D=j=>{var Z=Ca();r(j,Z)};b(V,j=>{e.block.type==="diagram"&&j(D)},!0)}r(O,F)};b(v,O=>{e.block.type==="flashcard"?O(m):O(N,!1)},!0)}r(P,d)};b(z,P=>{e.block.type==="quiz"?P(T):P(U,!1)},!0)}r(X,te)};b(E,X=>{e.block.type==="code"?X(I):X(B,!1)},!0)}r(f,q)};b(ge,f=>{e.block.type==="video"?f(ye):f(y,!1)},!0)}r(ne,ae)};b(L,ne=>{e.block.type==="image"?ne(ee):ne($,!1)},!0)}r(G,M)};b(de,G=>{e.block.type==="text"?G(ke):G(re,!1)})}a(oe),x(G=>R=De(oe,1,"content-block svelte-kv1zaw",null,R,G),[()=>({selected:e.isSelected})]),r(g,oe),We()}Ae(["input","change","click"]);var Ia=(g,e)=>e("text"),Da=(g,e)=>e("image"),Ba=(g,e)=>e("video"),Ra=(g,e)=>e("code"),Oa=(g,e)=>e("quiz"),Fa=(g,e)=>e("flashcard"),La=c('<div class="empty-state svelte-1sq24xf"><h4 class="svelte-1sq24xf">Start creating your content</h4> <p>Add your first content block using the toolbar above.</p></div>'),Ua=(g,e,n)=>e(t(n).id),Pa=(g,e,n)=>g.key==="Enter"&&e(t(n).id),Na=(g,e,n)=>{g.stopPropagation(),e(t(n).id)},ja=c('<div draggable="true" role="button" tabindex="0"><div class="block-header svelte-1sq24xf"><span class="block-type svelte-1sq24xf"> </span> <div class="block-actions svelte-1sq24xf"><button class="block-action-btn svelte-1sq24xf" title="Add block below">‚ûï</button> <button class="block-action-btn danger svelte-1sq24xf" title="Remove block">üóëÔ∏è</button></div></div> <!></div>'),Qa=c('<span class="status-item svelte-1sq24xf">Auto-save enabled</span>'),Va=c('<span class="status-item svelte-1sq24xf"> </span>'),Wa=c('<div class="content-editor svelte-1sq24xf"><div class="toolbar svelte-1sq24xf"><div class="toolbar-section svelte-1sq24xf"><h3 class="svelte-1sq24xf">Content Editor</h3></div> <div class="toolbar-section svelte-1sq24xf"><button class="toolbar-btn svelte-1sq24xf" title="Add Text Block">üìù Text</button> <button class="toolbar-btn svelte-1sq24xf" title="Add Image Block">üñºÔ∏è Image</button> <button class="toolbar-btn svelte-1sq24xf" title="Add Video Block">üé• Video</button> <button class="toolbar-btn svelte-1sq24xf" title="Add Code Block">üíª Code</button> <button class="toolbar-btn svelte-1sq24xf" title="Add Quiz Block">‚ùì Quiz</button> <button class="toolbar-btn svelte-1sq24xf" title="Add Flashcard Block">üÉè Flashcard</button></div> <div class="toolbar-section svelte-1sq24xf"><button class="toolbar-btn svelte-1sq24xf" title="Undo (Ctrl+Z)">‚Ü∂ Undo</button> <button class="toolbar-btn primary svelte-1sq24xf" title="Save (Ctrl+S)">üíæ Save</button></div></div> <div class="editor-content svelte-1sq24xf"><!></div> <div class="status-bar svelte-1sq24xf"><span class="status-item svelte-1sq24xf"> </span> <!> <!></div></div>');function al(g,e){Ve(e,!0);let n=be(e,"initialBlocks",19,()=>[]),k=be(e,"autoSave",3,!0),ve=be(e,"autoSaveDelay",3,1e3),_=Fe({blocks:[...n()],selectedBlock:null,isEditing:!1,history:[structuredClone(n())]}),fe=null;vt(()=>{k()&&_.blocks.length>0&&(fe&&clearTimeout(fe),fe=setTimeout(()=>{ae()},ve()))});let K=se(null),ce=se(null);function S(l){return{id:crypto.randomUUID(),type:l,content:oe(l),metadata:{created:new Date,modified:new Date,version:1}}}function oe(l){switch(l){case"text":return{html:"<p>Enter your text here...</p>"};case"image":return{src:"",alt:"",caption:""};case"video":return{src:"",title:"",description:""};case"code":return{code:"// Enter your code here",language:"javascript",title:"",description:"",executable:!0,version:1,history:[]};case"quiz":return{question:"Enter your question",type:"multiple-choice",options:["Option 1","Option 2"],correctAnswer:0};case"flashcard":return{front:"Front of card",back:"Back of card"};case"diagram":return{type:"flowchart",data:{}};default:return{}}}function R(l,o){const h=S(l),p=o!==void 0?o:_.blocks.length;ee(),_.blocks.splice(p,0,h),_.selectedBlock=h.id,_.isEditing=!0,Ne.addNotification({type:"success",message:`Added new ${l} block`})}function de(l){const o=_.blocks.findIndex(h=>h.id===l);o>-1&&(ee(),_.blocks.splice(o,1),_.selectedBlock===l&&(_.selectedBlock=null),Ne.addNotification({type:"info",message:"Block removed"}))}function ke(l,o){const h=_.blocks.find(p=>p.id===l);h&&(Object.assign(h,o),h.metadata.modified=new Date,h.metadata.version+=1)}function re(l,o){if(!l.dataTransfer)return;u(K,o,!0),l.dataTransfer.effectAllowed="move",l.dataTransfer.setData("text/plain",o.toString());const h=l.target;h.style.opacity="0.5"}function G(l){const o=l.target;o.style.opacity="1",u(K,null),u(ce,null)}function M(l,o){l.preventDefault(),l.dataTransfer&&(l.dataTransfer.dropEffect="move",u(ce,o,!0))}function L(l,o){if(l.preventDefault(),t(K)===null||t(K)===o)return;ee();const h=_.blocks[t(K)];_.blocks.splice(t(K),1);const p=t(K)<o?o-1:o;_.blocks.splice(p,0,h),Ne.addNotification({type:"success",message:"Block reordered"})}function ee(){const l=structuredClone(_.blocks);_.history.push(l),_.history.length>50&&_.history.shift()}function $(){if(_.history.length>1){_.history.pop();const l=_.history[_.history.length-1];_.blocks=structuredClone(l),Ne.addNotification({type:"info",message:"Undid last action"})}}const ne=$e();function ae(){ne("save",_.blocks),Ne.addNotification({type:"success",message:"Content saved"})}function ge(l){_.selectedBlock=l,_.isEditing=l!==null}function ye(l){if(l.ctrlKey||l.metaKey)switch(l.key){case"z":l.preventDefault(),$();break;case"s":l.preventDefault(),ae();break}}var y=Wa();Oe("keydown",kt,ye);var f=i(y),q=s(i(f),2),E=i(q);E.__click=[Ia,R];var I=s(E,2);I.__click=[Da,R];var B=s(I,2);B.__click=[Ba,R];var X=s(B,2);X.__click=[Ra,R];var te=s(X,2);te.__click=[Oa,R];var z=s(te,2);z.__click=[Fa,R],a(q);var T=s(q,2),U=i(T);U.__click=$;var P=s(U,2);P.__click=ae,a(T),a(f);var d=s(f,2),v=i(d);{var m=l=>{var o=La();r(l,o)},N=l=>{var o=Ce(),h=Me(o);Re(h,19,()=>_.blocks,p=>p.id,(p,C,W)=>{var A=ja();let H;A.__click=[Ua,ge,C],A.__keydown=[Pa,ge,C];var Q=i(A),ie=i(Q),le=i(ie,!0);a(ie);var ze=s(ie,2),Se=i(ze);Se.__click=ue=>{ue.stopPropagation(),R("text",t(W)+1)};var we=s(Se,2);we.__click=[Na,de,C],a(ze),a(Q);var Te=s(Q,2);{let ue=Ie(()=>_.selectedBlock===t(C).id);Ea(Te,{get block(){return t(C)},get isSelected(){return t(ue)},onupdate:J=>ke(t(C).id,J.detail)})}a(A),x(ue=>{H=De(A,1,"block-container svelte-1sq24xf",null,H,ue),w(le,t(C).type)},[()=>({selected:_.selectedBlock===t(C).id,"drop-target":t(ce)===t(W)})]),Oe("dragstart",A,ue=>re(ue,t(W))),Oe("dragend",A,G),Oe("dragover",A,ue=>M(ue,t(W))),Oe("drop",A,ue=>L(ue,t(W))),r(p,A)}),r(l,o)};b(v,l=>{_.blocks.length===0?l(m):l(N,!1)})}a(d);var O=s(d,2),F=i(O),V=i(F);a(F);var D=s(F,2);{var j=l=>{var o=Qa();r(l,o)};b(D,l=>{k()&&l(j)})}var Z=s(D,2);{var Y=l=>{var o=Va(),h=i(o);a(o),x(p=>w(h,`Selected: ${p??""}`),[()=>_.blocks.find(p=>p.id===_.selectedBlock)?.type]),r(l,o)};b(Z,l=>{_.selectedBlock&&l(Y)})}a(O),a(y),x(()=>{U.disabled=_.history.length<=1,w(V,`${_.blocks.length??""} blocks`)}),r(g,y),We()}Ae(["click","keydown"]);async function Ha(g,e,n,k,ve,_,fe,K,ce){if(t(e)){u(n,!0);try{await Ze.createLink(k.currentModule.id,t(e),t(ve),t(_),`${t(ve)} relationship`,!1),await fe(),K("relationshipchange"),u(e,""),u(ve,"related"),u(_,1),u(ce,!1)}catch(S){console.error("Failed to add relationship:",S)}finally{u(n,!1)}}}var Ga=(g,e)=>u(e,!t(e)),Ja=c('<div class="loading svelte-169e7lz">Loading relationships...</div>'),Ya=c("<option> </option>"),Ka=c("<option> </option>"),Za=(g,e)=>u(e,!1),Xa=c('<div class="add-relationship-form svelte-169e7lz"><h4 class="svelte-169e7lz">Add New Relationship</h4> <div class="form-group svelte-169e7lz"><label for="module-select" class="svelte-169e7lz">Related Module:</label> <select id="module-select" class="svelte-169e7lz"><option>Select a module...</option><!></select></div> <div class="form-group svelte-169e7lz"><label for="relationship-type" class="svelte-169e7lz">Relationship Type:</label> <select id="relationship-type" class="svelte-169e7lz"></select> <small class="help-text svelte-169e7lz"> </small></div> <div class="form-group svelte-169e7lz"><label for="strength" class="svelte-169e7lz">Relationship Strength:</label> <input id="strength" type="range" min="0.1" max="1.0" step="0.1" class="svelte-169e7lz"/> <span class="strength-value svelte-169e7lz"> </span></div> <div class="form-actions svelte-169e7lz"><button class="btn btn-primary svelte-169e7lz">Add Relationship</button> <button class="btn btn-secondary svelte-169e7lz">Cancel</button></div></div>'),$a=c('<p class="no-relationships svelte-169e7lz">No relationships defined yet.</p>'),ei=c('<div class="relationship-description svelte-169e7lz"> </div>'),ti=(g,e,n)=>e(t(n),parseFloat(g.target.value)),ai=(g,e,n)=>e(t(n).id),ii=c('<div class="relationship-item svelte-169e7lz"><div class="relationship-info svelte-169e7lz"><div class="relationship-title svelte-169e7lz"><strong> </strong> <!></div> <div class="relationship-meta svelte-169e7lz"> </div> <!></div> <div class="relationship-actions svelte-169e7lz"><input type="range" min="0.1" max="1.0" step="0.1" class="strength-slider svelte-169e7lz"/> <button class="btn btn-danger btn-small svelte-169e7lz">Remove</button></div></div>'),li=c('<div class="relationships-list svelte-169e7lz"></div>'),si=c('<span class="reason-tag svelte-169e7lz"> </span>'),ri=(g,e,n)=>e(t(n)),ni=c('<div class="recommendation-item svelte-169e7lz"><div class="recommendation-info svelte-169e7lz"><div class="recommendation-title svelte-169e7lz"><strong> </strong> <span class="recommendation-type svelte-169e7lz"> </span></div> <div class="recommendation-score svelte-169e7lz"> </div> <div class="recommendation-reasons svelte-169e7lz"></div></div> <button class="btn btn-primary btn-small svelte-169e7lz">Accept</button></div>'),oi=c('<div class="recommendations svelte-169e7lz"><h4 class="svelte-169e7lz">Suggested Relationships</h4> <div class="recommendations-list svelte-169e7lz"></div></div>'),vi=c('<div class="relationship-manager svelte-169e7lz"><div class="header svelte-169e7lz"><h3 class="svelte-169e7lz">Content Relationships</h3> <button class="btn btn-primary svelte-169e7lz"> </button></div> <!> <!> <div class="existing-relationships svelte-169e7lz"><h4 class="svelte-169e7lz"> </h4> <!></div> <!></div>');function il(g,e){Ve(e,!0);const n=$e();let k=se(Fe([])),ve=se(Fe([])),_=se(!1),fe=se(""),K=se("related"),ce=se(1),S=se(!1);const oe=[{value:"prerequisite",label:"Prerequisite",description:"This content must be completed first"},{value:"dependent",label:"Dependent",description:"This content depends on the current module"},{value:"related",label:"Related",description:"Topically related content"},{value:"similar",label:"Similar",description:"Similar difficulty or content type"},{value:"sequence",label:"Sequence",description:"Next in a learning sequence"},{value:"reference",label:"Reference",description:"Referenced by this content"},{value:"example",label:"Example",description:"Provides examples for this content"},{value:"practice",label:"Practice",description:"Provides practice exercises"}];lt(async()=>{await R(),await de()});async function R(){u(S,!0);try{u(k,await Ze.getLinksForContent(e.currentModule.id),!0)}catch(d){console.error("Failed to load existing links:",d)}finally{u(S,!1)}}async function de(){try{u(ve,await qt.generateRecommendations("current-user",e.completedContent,e.currentModule.id,e.allModules,5),!0)}catch(d){console.error("Failed to load recommendations:",d)}}async function ke(d){u(S,!0);try{await Ze.deleteLink(d),await R(),n("relationshipchange")}catch(v){console.error("Failed to remove relationship:",v)}finally{u(S,!1)}}async function re(d,v){u(S,!0);try{const m={...d,strength:Math.max(0,Math.min(1,v))};await Ze.updateLink(m),await R(),n("relationshipchange")}catch(m){console.error("Failed to update relationship:",m)}finally{u(S,!1)}}function G(d){const v=e.allModules.find(m=>m.id===d);return v?v.title:"Unknown Module"}function M(d){const v=oe.find(m=>m.value===d);return v?v.label:d}function L(){const d=new Set(t(k).flatMap(v=>[v.sourceId,v.targetId]));return e.allModules.filter(v=>v.id!==e.currentModule.id&&!d.has(v.id))}async function ee(d){u(S,!0);try{const v=$(d.type);await Ze.createLink(e.currentModule.id,d.contentId,v,d.score,"Auto-generated from recommendation",!0),await R(),await de(),n("relationshipchange")}catch(v){console.error("Failed to accept recommendation:",v)}finally{u(S,!1)}}function $(d){switch(d){case"next-in-sequence":return"sequence";case"related-topic":return"related";case"practice":return"practice";case"similar-difficulty":return"similar";case"review":return"related";default:return"related"}}var ne=vi(),ae=i(ne),ge=s(i(ae),2);ge.__click=[Ga,_];var ye=i(ge,!0);a(ge),a(ae);var y=s(ae,2);{var f=d=>{var v=Ja();r(d,v)};b(y,d=>{t(S)&&d(f)})}var q=s(y,2);{var E=d=>{var v=Xa(),m=s(i(v),2),N=s(i(m),2),O=i(N);O.value=O.__value="";var F=s(O);Re(F,17,L,it,(A,H)=>{var Q=Ya(),ie=i(Q,!0);a(Q);var le={};x(()=>{w(ie,t(H).title),le!==(le=t(H).id)&&(Q.value=(Q.__value=t(H).id)??"")}),r(A,Q)}),a(N),a(m);var V=s(m,2),D=s(i(V),2);Re(D,21,()=>oe,it,(A,H)=>{var Q=Ka(),ie=i(Q,!0);a(Q);var le={};x(()=>{w(ie,t(H).label),le!==(le=t(H).value)&&(Q.value=(Q.__value=t(H).value)??"")}),r(A,Q)}),a(D);var j=s(D,2),Z=i(j,!0);a(j),a(V);var Y=s(V,2),l=s(i(Y),2);Ee(l);var o=s(l,2),h=i(o,!0);a(o),a(Y);var p=s(Y,2),C=i(p);C.__click=[Ha,fe,S,e,K,ce,R,n,_];var W=s(C,2);W.__click=[Za,_],a(p),a(v),x((A,H)=>{w(Z,A),w(h,H),C.disabled=!t(fe)||t(S)},[()=>oe.find(A=>A.value===t(K))?.description,()=>t(ce).toFixed(1)]),ut(N,()=>t(fe),A=>u(fe,A)),ut(D,()=>t(K),A=>u(K,A)),nt(l,()=>t(ce),A=>u(ce,A)),r(d,v)};b(q,d=>{t(_)&&d(E)})}var I=s(q,2),B=i(I),X=i(B);a(B);var te=s(B,2);{var z=d=>{var v=$a();r(d,v)},T=d=>{var v=li();Re(v,21,()=>t(k),m=>m.id,(m,N)=>{var O=ii(),F=i(O),V=i(F),D=i(V),j=i(D,!0);a(D);var Z=s(D,2);{var Y=Q=>{var ie=Ye();x(le=>w(ie,`‚Üí ${le??""}`),[()=>G(t(N).targetId)]),r(Q,ie)},l=Q=>{var ie=Ye();x(le=>w(ie,`‚Üê ${le??""}`),[()=>G(t(N).sourceId)]),r(Q,ie)};b(Z,Q=>{t(N).sourceId===e.currentModule.id?Q(Y):Q(l,!1)})}a(V);var o=s(V,2),h=i(o);a(o);var p=s(o,2);{var C=Q=>{var ie=ei(),le=i(ie,!0);a(ie),x(()=>w(le,t(N).metadata.description)),r(Q,ie)};b(p,Q=>{t(N).metadata.description&&Q(C)})}a(F);var W=s(F,2),A=i(W);Ee(A),A.__change=[ti,re,N];var H=s(A,2);H.__click=[ai,ke,N],a(W),a(O),x((Q,ie,le)=>{w(j,Q),w(h,`Strength: ${ie??""} ‚Ä¢
								${t(N).metadata.automatic?"Auto-generated":"Manual"} ‚Ä¢ Created: ${le??""}`),Le(A,t(N).strength),A.disabled=t(S),H.disabled=t(S)},[()=>M(t(N).type),()=>t(N).strength.toFixed(1),()=>t(N).metadata.created.toLocaleDateString()]),r(m,O)}),a(v),r(d,v)};b(te,d=>{t(k).length===0?d(z):d(T,!1)})}a(I);var U=s(I,2);{var P=d=>{var v=oi(),m=s(i(v),2);Re(m,21,()=>t(ve),N=>N.contentId,(N,O)=>{var F=ni(),V=i(F),D=i(V),j=i(D),Z=i(j,!0);a(j);var Y=s(j,2),l=i(Y,!0);a(Y),a(D);var o=s(D,2),h=i(o);a(o);var p=s(o,2);Re(p,21,()=>t(O).reasons,it,(W,A)=>{var H=si(),Q=i(H,!0);a(H),x(()=>w(Q,t(A).description)),r(W,H)}),a(p),a(V);var C=s(V,2);C.__click=[ri,ee,O],a(F),x((W,A)=>{w(Z,W),w(l,t(O).type),w(h,`Confidence: ${A??""}%`),C.disabled=t(S)},[()=>G(t(O).contentId),()=>Math.round(t(O).score*100)]),r(N,F)}),a(m),a(v),r(d,v)};b(U,d=>{t(ve).length>0&&d(P)})}a(ne),x(()=>{ge.disabled=t(S),w(ye,t(_)?"Cancel":"Add Relationship"),w(X,`Current Relationships (${t(k).length??""})`)}),r(g,ne),We()}Ae(["click","change"]);function ci(g,e,n,k,ve,_){u(e,""),u(n,[],!0),u(k,[],!0),u(ve,!1),u(_,!1),Ne.setSearchQuery(""),Ne.setSearchResults([])}function di(g,e){u(e,!t(e))}function gt(g,e,n){u(e,{contentTypes:[],tags:[],difficulty:[],minRelevance:0},!0),n()}var ui=c('<div class="search-spinner svelte-1oeuydi" aria-label="Searching...">‚ü≥</div>'),_i=c('<button class="clear-button svelte-1oeuydi" aria-label="Clear search">‚úï</button>'),fi=c('<button aria-label="Toggle filters">‚öô</button>'),gi=(g,e,n)=>e(n),mi=c('<button class="suggestion-item svelte-1oeuydi"><span class="suggestion-icon svelte-1oeuydi">üîç</span> </button>'),hi=c('<div class="suggestions-dropdown svelte-1oeuydi"></div>'),bi=(g,e,n)=>e(t(n)),pi=c('<div class="result-snippet svelte-1oeuydi"> </div>'),ki=c('<span class="result-tag svelte-1oeuydi"> </span>'),yi=c('<span class="result-tag-more svelte-1oeuydi"> </span>'),xi=c('<div class="result-tags svelte-1oeuydi"><!> <!></div>'),wi=c('<button class="result-item svelte-1oeuydi"><div class="result-header svelte-1oeuydi"><span class="result-title svelte-1oeuydi"> </span> <span class="result-type svelte-1oeuydi"> </span></div> <!> <!> <div class="result-relevance svelte-1oeuydi"> </div></button>'),zi=c('<div class="results-dropdown svelte-1oeuydi"><div class="results-header svelte-1oeuydi"><span class="results-count"> </span></div> <!></div>'),Si=c('<div class="no-results svelte-1oeuydi"><div class="no-results-icon svelte-1oeuydi">üîç</div> <div class="no-results-text svelte-1oeuydi"> </div> <button class="clear-filters-btn svelte-1oeuydi">Clear filters</button></div>'),qi=c('<label class="filter-checkbox svelte-1oeuydi"><input type="checkbox" class="svelte-1oeuydi"/> </label>'),Ti=c('<label class="filter-checkbox svelte-1oeuydi"><input type="checkbox" class="svelte-1oeuydi"/> </label>'),Mi=c('<div class="filter-group svelte-1oeuydi"><fieldset><legend class="filter-label svelte-1oeuydi">Tags</legend> <div class="filter-options svelte-1oeuydi"></div></fieldset></div>'),Ci=c('<label class="filter-checkbox svelte-1oeuydi"><input type="checkbox" class="svelte-1oeuydi"/> </label>'),Ai=c('<div class="filters-panel svelte-1oeuydi"><div class="filters-header svelte-1oeuydi"><h3 class="svelte-1oeuydi">Search Filters</h3> <button class="clear-filters-btn svelte-1oeuydi">Clear All</button></div> <div class="filter-group svelte-1oeuydi"><fieldset><legend class="filter-label svelte-1oeuydi">Content Types</legend> <div class="filter-options svelte-1oeuydi"></div></fieldset></div> <!> <div class="filter-group svelte-1oeuydi"><fieldset><legend class="filter-label svelte-1oeuydi">Difficulty</legend> <div class="filter-options svelte-1oeuydi"></div></fieldset></div> <div class="filter-group svelte-1oeuydi"><label class="filter-label svelte-1oeuydi" for="min-relevance-filter"> </label> <input id="min-relevance-filter" type="range" min="0" max="100" class="relevance-slider svelte-1oeuydi"/></div></div>'),Ei=c('<div class="search-container svelte-1oeuydi"><div class="search-input-container svelte-1oeuydi"><div class="search-input-wrapper svelte-1oeuydi"><input type="text"/> <div class="search-actions svelte-1oeuydi"><!> <!></div></div> <!> <!></div> <!></div>');function ll(g,e){Ve(e,!0);const n=[],k=[],ve=[],_=$e();let fe=be(e,"placeholder",3,"Search knowledge base..."),K=be(e,"showFilters",3,!0),ce=be(e,"maxResults",3,20),S=se(""),oe=se(!1),R=se(!1),de=se(Fe([])),ke=se(Fe([])),re=se(!1),G=se(!1),M=se(Fe({contentTypes:[],tags:[],difficulty:[],minRelevance:0})),L=se(Fe([])),ee=se(Fe([])),$=Fe(["module","lesson","folder"]),ne=null;async function ae(){try{const l=await _t.getAllModules();for(const p of l)at.indexModule(p);for(const p of Je.content.nodes.values())at.indexNode(p);const o=[],h=[];for(const p of l)p.metadata.tags.forEach(C=>{o.includes(C)||o.push(C)}),h.includes(p.metadata.author)||h.push(p.metadata.author);for(const p of Je.content.nodes.values())p.metadata.tags.forEach(C=>{o.includes(C)||o.push(C)});u(L,o.sort(),!0),u(ee,h.sort(),!0)}catch{}}async function ge(){if(!t(S).trim()){u(ke,[],!0),u(re,!1);return}u(oe,!0),u(R,!1);try{const l=await _t.getAllModules(),o=new Map;for(const p of l)o.set(p.id,p);const h=at.search(t(S),o,Je.content.nodes,t(M),ce());u(ke,h,!0),u(re,!0),Ne.setSearchQuery(t(S)),Ne.setSearchResults(h)}catch{u(ke,[],!0)}finally{u(oe,!1)}}function ye(){if(t(S).length<2){u(de,[],!0),u(R,!1);return}u(de,at.getSuggestions(t(S),5),!0),u(R,t(de).length>0)}function y(){ne&&clearTimeout(ne),ye(),ne=setTimeout(()=>{ge()},300)}function f(l){u(S,l,!0),u(R,!1),ge()}function q(l){u(re,!1),u(R,!1),_("resultselect",l);const o=Je.content.nodes.get(l.id);o&&Ne.setCurrentNode(o)}function E(){t(S).trim()&&ge()}function I(l){l.target.closest(".search-container")||(u(R,!1),u(re,!1))}lt(()=>(ae(),document.addEventListener("click",I),()=>{document.removeEventListener("click",I),ne&&clearTimeout(ne)})),vt(()=>{Je.content.searchQuery!==t(S)&&(u(S,Je.content.searchQuery,!0),t(S)&&ge())});var B=Ei(),X=i(B),te=i(X),z=i(te);Ee(z),z.__input=y;let T;var U=s(z,2),P=i(U);{var d=l=>{var o=ui();r(l,o)},v=l=>{var o=Ce(),h=Me(o);{var p=C=>{var W=_i();W.__click=[ci,S,ke,de,re,R],r(C,W)};b(h,C=>{t(S).length>0&&C(p)},!0)}r(l,o)};b(P,l=>{t(oe)?l(d):l(v,!1)})}var m=s(P,2);{var N=l=>{var o=fi();o.__click=[di,G];let h;x(p=>h=De(o,1,"filter-button svelte-1oeuydi",null,h,p),[()=>({active:t(G)})]),r(l,o)};b(m,l=>{K()&&l(N)})}a(U),a(te);var O=s(te,2);{var F=l=>{var o=hi();Re(o,20,()=>t(de),h=>h,(h,p)=>{var C=mi();C.__click=[gi,f,p];var W=s(i(C));a(C),x(()=>w(W,` ${p??""}`)),r(h,C)}),a(o),r(l,o)};b(O,l=>{t(R)&&t(de).length>0&&l(F)})}var V=s(O,2);{var D=l=>{var o=zi(),h=i(o),p=i(h),C=i(p);a(p),a(h);var W=s(h,2);Re(W,17,()=>t(ke),A=>A.id,(A,H)=>{var Q=wi();Q.__click=[bi,q,H];var ie=i(Q),le=i(ie),ze=i(le,!0);a(le);var Se=s(le,2),we=i(Se,!0);a(Se),a(ie);var Te=s(ie,2);{var ue=he=>{var qe=pi(),Be=i(qe,!0);a(qe),x(()=>w(Be,t(H).snippet)),r(he,qe)};b(Te,he=>{t(H).snippet&&he(ue)})}var J=s(Te,2);{var _e=he=>{var qe=xi(),Be=i(qe);Re(Be,16,()=>t(H).tags.slice(0,3),je=>je,(je,He)=>{var Ke=ki(),ht=i(Ke,!0);a(Ke),x(()=>w(ht,He)),r(je,Ke)});var Ue=s(Be,2);{var Ge=je=>{var He=yi(),Ke=i(He);a(He),x(()=>w(Ke,`+${t(H).tags.length-3}`)),r(je,He)};b(Ue,je=>{t(H).tags.length>3&&je(Ge)})}a(qe),r(he,qe)};b(J,he=>{t(H).tags.length>0&&he(_e)})}var xe=s(J,2),me=i(xe);a(xe),a(Q),x(he=>{w(ze,t(H).title),w(we,t(H).type),w(me,`Relevance: ${he??""}`)},[()=>Math.round(t(H).relevance)]),r(A,Q)}),a(o),x(()=>w(C,`${t(ke).length??""} result${t(ke).length!==1?"s":""}`)),r(l,o)},j=l=>{var o=Ce(),h=Me(o);{var p=C=>{var W=Si(),A=s(i(W),2),H=i(A);a(A);var Q=s(A,2);Q.__click=[gt,M,E],a(W),x(()=>w(H,`No results found for "${t(S)??""}"`)),r(C,W)};b(h,C=>{t(re)&&t(ke).length===0&&t(S).trim()&&C(p)},!0)}r(l,o)};b(V,l=>{t(re)&&t(ke).length>0?l(D):l(j,!1)})}a(X);var Z=s(X,2);{var Y=l=>{var o=Ai(),h=i(o),p=s(i(h),2);p.__click=[gt,M,E],a(h);var C=s(h,2),W=i(C),A=s(i(W),2);Re(A,20,()=>$,J=>J,(J,_e)=>{var xe=qi(),me=i(xe);Ee(me),me.__change=E;var he,qe=s(me);a(xe),x(()=>{he!==(he=_e)&&(me.value=(me.__value=_e)??""),w(qe,` ${_e??""}`)}),rt(n,[],me,()=>t(M).contentTypes,Be=>t(M).contentTypes=Be),r(J,xe)}),a(A),a(W),a(C);var H=s(C,2);{var Q=J=>{var _e=Mi(),xe=i(_e),me=s(i(xe),2);Re(me,20,()=>t(L).slice(0,10),he=>he,(he,qe)=>{var Be=Ti(),Ue=i(Be);Ee(Ue),Ue.__change=E;var Ge,je=s(Ue);a(Be),x(()=>{Ge!==(Ge=qe)&&(Ue.value=(Ue.__value=qe)??""),w(je,` ${qe??""}`)}),rt(k,[],Ue,()=>t(M).tags,He=>t(M).tags=He),r(he,Be)}),a(me),a(xe),a(_e),r(J,_e)};b(H,J=>{t(L).length>0&&J(Q)})}var ie=s(H,2),le=i(ie),ze=s(i(le),2);Re(ze,20,()=>[1,2,3,4,5],J=>J,(J,_e)=>{var xe=Ci(),me=i(xe);Ee(me),me.__change=E;var he,qe=s(me);a(xe),x(()=>{pe(me,"id",`difficulty-filter-${_e??""}`),he!==(he=_e)&&(me.value=(me.__value=_e)??""),w(qe,` Level ${_e??""}`)}),rt(ve,[],me,()=>t(M).difficulty,Be=>t(M).difficulty=Be),r(J,xe)}),a(ze),a(le),a(ie);var Se=s(ie,2),we=i(Se),Te=i(we);a(we);var ue=s(we,2);Ee(ue),ue.__change=E,a(Se),a(o),x(()=>w(Te,`Minimum Relevance: ${t(M).minRelevance??""}`)),nt(ue,()=>t(M).minRelevance,J=>t(M).minRelevance=J),r(l,o)};b(Z,l=>{K()&&t(G)&&l(Y)})}a(B),x(l=>{pe(z,"placeholder",fe()),T=De(z,1,"search-input svelte-1oeuydi",null,T,l)},[()=>({"has-value":t(S).length>0})]),Oe("focus",z,()=>{t(S).length>=2&&ye()}),nt(z,()=>t(S),l=>u(S,l)),r(g,B),We()}Ae(["input","click","change"]);var Ii=c('<div class="flex items-center justify-center py-4"><div class="animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"></div> <span class="ml-2 text-sm text-gray-600">Loading scores...</span></div>'),Di=c('<div class="text-center ml-4"><div> </div> <div class="text-sm text-gray-600">Grade</div></div>'),Bi=c('<div class="relative -mt-2 h-4 flex items-center"><div class="w-0.5 h-4 bg-yellow-500"></div> <div class="absolute -top-1 left-1 text-xs text-yellow-600 whitespace-nowrap"> </div></div>'),Ri=c('<div class="mt-4 bg-yellow-50 border border-yellow-200 rounded-md p-3"><div class="flex items-center"><div class="text-yellow-500 text-lg mr-2">üèÜ</div> <div class="text-sm"><div class="font-medium text-yellow-800">Perfect Score!</div> <div class="text-yellow-700">You achieved the maximum score possible.</div></div></div></div>'),Oi=c('<div class="mt-4 bg-green-50 border border-green-200 rounded-md p-3"><div class="flex items-center"><div class="text-green-500 text-lg mr-2">‚≠ê</div> <div class="text-sm"><div class="font-medium text-green-800">First Try Success!</div> <div class="text-green-700">You passed on your first attempt.</div></div></div></div>'),Fi=c('<div class="text-center mb-4"><div class="flex items-center justify-center space-x-4"><div class="text-center"><div> </div> <div class="text-sm text-gray-600">Current</div></div> <div class="text-gray-400">/</div> <div class="text-center"><div class="text-3xl font-bold text-gray-700"> </div> <div class="text-sm text-gray-600">Max</div></div> <!></div> <div class="mt-2"><div> </div> <div> </div></div></div> <div class="mb-4"><div class="flex justify-between text-xs text-gray-600 mb-1"><span>Progress</span> <span> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div></div></div> <!></div> <div class="grid grid-cols-3 gap-4 text-center text-sm"><div class="bg-gray-50 p-2 rounded"><div class="font-semibold text-gray-900"> </div> <div class="text-gray-600">Best Score</div></div> <div class="bg-gray-50 p-2 rounded"><div class="font-semibold text-gray-900"> </div> <div class="text-gray-600">Attempts</div></div> <div class="bg-gray-50 p-2 rounded"><div class="font-semibold text-gray-900"> </div> <div class="text-gray-600">Best %</div></div></div> <!> <!>',1),Li=c('<div class="score-tracker bg-white border border-gray-200 rounded-lg p-4 svelte-507vbv"><!></div>');function sl(g,e){Ve(e,!0);let n=be(e,"maxScore",3,100),k=be(e,"passingScore",3,70),ve=be(e,"showGrade",3,!0),_=se(0),fe=se(0),K=se(0),ce=se(null),S=se(!0);const oe=y=>y>=90?{letter:"A",color:"text-green-600"}:y>=80?{letter:"B",color:"text-blue-600"}:y>=70?{letter:"C",color:"text-yellow-600"}:y>=60?{letter:"D",color:"text-orange-600"}:{letter:"F",color:"text-red-600"},R=Ie(()=>()=>t(_)>=k()),de=y=>y>=90?"text-green-600":y>=k()?"text-blue-600":y>=50?"text-yellow-600":"text-red-600",ke=async()=>{try{u(S,!0);const y=await tt.getProgress(e.userId,e.moduleId);y&&(u(ce,y,!0),u(_,y.score||0,!0),u(K,y.score||0,!0),u(fe,y.attempts,!0))}catch(y){console.error("Error loading progress:",y)}finally{u(S,!1)}},re=async y=>{try{u(_,Math.max(0,Math.min(n(),y)),!0),t(_)>t(K)&&u(K,t(_),!0);const f=await tt.getProgress(e.userId,e.moduleId),q={userId:e.userId,moduleId:e.moduleId,status:t(_)>=k()?"completed":"in-progress",score:t(K),timeSpent:f?.timeSpent||0,lastAccessed:new Date,attempts:t(fe)+1,bookmarked:f?.bookmarked||!1,notes:f?.notes||"",completedAt:t(_)>=k()?new Date:f?.completedAt};await tt.updateProgress(q),u(ce,q,!0),u(fe,q.attempts,!0),e.onScoreUpdate?.({score:t(_),isPassing:t(R)()}),t(R)()&&await tt.completeModule(e.userId,e.moduleId,t(K))}catch(f){console.error("Error updating score:",f)}},G=y=>{re(t(_)+y)},M=y=>{re(t(_)-y)};function L(){u(_,0),re(0)}const ee=y=>{re(y)},$=y=>Math.round(y/n()*100);lt(()=>{ke()});var ne=Li(),ae=i(ne);{var ge=y=>{var f=Ii();r(y,f)},ye=y=>{var f=Fi(),q=Me(f),E=i(q),I=i(E),B=i(I),X=i(B,!0);a(B),Pe(2),a(I);var te=s(I,4),z=i(te),T=i(z,!0);a(z),Pe(2),a(te);var U=s(te,2);{var P=J=>{var _e=Di(),xe=i(_e),me=i(xe,!0);a(xe),Pe(2),a(_e),x((he,qe)=>{De(xe,1,`text-3xl font-bold ${he??""}`,"svelte-507vbv"),w(me,qe)},[()=>oe($(t(_))).color,()=>oe($(t(_))).letter]),r(J,_e)};b(U,J=>{ve()&&J(P)})}a(E);var d=s(E,2),v=i(d),m=i(v);a(v);var N=s(v,2),O=i(N,!0);a(N),a(d),a(q);var F=s(q,2),V=i(F),D=s(i(V),2),j=i(D);a(D),a(V);var Z=s(V,2),Y=i(Z);a(Z);var l=s(Z,2);{var o=J=>{var _e=Bi(),xe=s(i(_e),2),me=i(xe);a(xe),a(_e),x(()=>{Xe(_e,`margin-left: ${k()/n()*100}%`),w(me,`Passing: ${k()??""}`)}),r(J,_e)};b(l,J=>{k()>0&&k()<n()&&J(o)})}a(F);var h=s(F,2),p=i(h),C=i(p),W=i(C,!0);a(C),Pe(2),a(p);var A=s(p,2),H=i(A),Q=i(H,!0);a(H),Pe(2),a(A);var ie=s(A,2),le=i(ie),ze=i(le);a(le),Pe(2),a(ie),a(h);var Se=s(h,2);{var we=J=>{var _e=Ri();r(J,_e)},Te=J=>{var _e=Ce(),xe=Me(_e);{var me=he=>{var qe=Oi();r(he,qe)};b(xe,he=>{t(R)()&&t(fe)===1&&he(me)},!0)}r(J,_e)};b(Se,J=>{t(K)===n()?J(we):J(Te,!1)})}var ue=s(Se,2);b(ue,J=>{}),x((J,_e,xe,me,he,qe,Be,Ue,Ge)=>{De(B,1,`text-3xl font-bold ${J??""}`,"svelte-507vbv"),w(X,t(_)),w(T,n()),De(v,1,`text-lg font-semibold ${_e??""}`,"svelte-507vbv"),w(m,`${xe??""}%`),De(N,1,`text-sm ${me??""}`),w(O,he),w(j,`${qe??""}%`),De(Y,1,`h-2 rounded-full transition-all duration-300 ${Be??""}`),Xe(Y,`width: ${Ue??""}%`),w(W,t(K)),w(Q,t(fe)),w(ze,`${Ge??""}%`)},[()=>de(t(_)),()=>de(t(_)),()=>$(t(_)),()=>t(R)()?"text-green-600":"text-red-600",()=>t(R)()?"‚úì Passing":"‚úó Below passing score",()=>$(t(_)),()=>t(R)()?"bg-green-500":"bg-blue-500",()=>Math.min(100,$(t(_))),()=>$(t(K))]),r(y,f)};b(ae,y=>{t(S)?y(ge):y(ye,!1)})}return a(ne),r(g,ne),We({resetScore:L,addPoints:G,subtractPoints:M,setScore:ee,updateScore:re})}Ae(["click"]);Ae(["click"]);Ae(["click","change"]);Ae(["click","keydown"]);const Ui=async(g,e)=>{await Qe.syncNow(),u(e,Qe.getSyncStatus(),!0)},Pi=async(g,e,n)=>{confirm("Are you sure you want to clear all offline data? This cannot be undone.")&&(await Qe.clearOfflineData(),u(e,Qe.getSyncStatus(),!0),u(n,Qe.getOfflineStats(),!0))};var Ni=c('<div class="detail-row svelte-mu12xm"><span class="detail-label svelte-mu12xm">Queue:</span> <span class="detail-value svelte-mu12xm"> </span></div>'),ji=c('<div class="detail-row svelte-mu12xm"><span class="detail-label svelte-mu12xm">Pending:</span> <span class="detail-value svelte-mu12xm"> </span></div>'),Qi=c('<div class="stat-item svelte-mu12xm"><span class="stat-label svelte-mu12xm"> </span> <span class="stat-value svelte-mu12xm"> </span></div>'),Vi=c('<div class="detail-row svelte-mu12xm"><span class="detail-label svelte-mu12xm">Oldest:</span> <span class="detail-value svelte-mu12xm"> </span></div>'),Wi=c('<div class="offline-stats svelte-mu12xm"><h4 class="svelte-mu12xm">Offline Queue</h4> <div class="stats-grid svelte-mu12xm"><div class="stat-item svelte-mu12xm"><span class="stat-label svelte-mu12xm">Total:</span> <span class="stat-value svelte-mu12xm"> </span></div> <!></div> <!> <button class="clear-button svelte-mu12xm" title="Clear offline data">üóëÔ∏è Clear Offline Data</button></div>'),Hi=c('<div class="sync-status svelte-mu12xm"><div class="sync-header svelte-mu12xm"><div class="status-indicator svelte-mu12xm"><span class="status-icon svelte-mu12xm"> </span> <span> </span></div> <div class="sync-actions svelte-mu12xm"><button class="sync-button svelte-mu12xm" title="Sync now">üîÑ Sync</button></div></div> <div class="sync-details svelte-mu12xm"><div class="detail-row svelte-mu12xm"><span class="detail-label svelte-mu12xm">Network:</span> <span class="detail-value svelte-mu12xm"> <!></span></div> <div class="detail-row svelte-mu12xm"><span class="detail-label svelte-mu12xm">Last sync:</span> <span class="detail-value svelte-mu12xm"> </span></div> <!> <!></div> <!></div>');function rl(g,e){Ve(e,!0);let n=se(Fe(Qe.getSyncStatus())),k=se(Fe(Qe.getOfflineStats())),ve;vt(()=>(ve=setInterval(()=>{u(n,Qe.getSyncStatus(),!0),u(k,Qe.getOfflineStats(),!0)},2e3),()=>{ve&&clearInterval(ve)}));function _(T){if(!T)return"Never";const P=new Date().getTime()-T.getTime(),d=Math.floor(P/6e4),v=Math.floor(d/60),m=Math.floor(v/24);return m>0?`${m}d ago`:v>0?`${v}h ago`:d>0?`${d}m ago`:"Just now"}function fe(){return t(n).networkStatus.isOnline?t(n).isSyncing?"text-blue-600":t(n).queueSize>0?"text-yellow-600":"text-green-600":"text-red-600"}function K(){return t(n).networkStatus.isOnline?t(n).isSyncing?"üîÑ":t(n).queueSize>0?"‚è≥":"‚úÖ":"üî¥"}function ce(){return t(n).networkStatus.isOnline?t(n).isSyncing?"Syncing...":t(n).queueSize>0?`${t(n).queueSize} pending`:"Up to date":"Offline"}var S=Hi(),oe=i(S),R=i(oe),de=i(R),ke=i(de,!0);a(de);var re=s(de,2),G=i(re,!0);a(re),a(R);var M=s(R,2),L=i(M);L.__click=[Ui,n],a(M),a(oe);var ee=s(oe,2),$=i(ee),ne=s(i($),2),ae=i(ne),ge=s(ae);{var ye=T=>{var U=Ye();x(()=>w(U,`(${t(n).networkStatus.connectionType??""})`)),r(T,U)};b(ge,T=>{t(n).networkStatus.connectionType&&T(ye)})}a(ne),a($);var y=s($,2),f=s(i(y),2),q=i(f,!0);a(f),a(y);var E=s(y,2);{var I=T=>{var U=Ni(),P=s(i(U),2),d=i(P);a(P),a(U),x(()=>w(d,`${t(n).queueSize??""} operations`)),r(T,U)};b(E,T=>{t(n).queueSize>0&&T(I)})}var B=s(E,2);{var X=T=>{var U=ji(),P=s(i(U),2),d=i(P);a(P),a(U),x(()=>w(d,`${t(n).pendingOptimisticUpdates??""} optimistic updates`)),r(T,U)};b(B,T=>{t(n).pendingOptimisticUpdates>0&&T(X)})}a(ee);var te=s(ee,2);{var z=T=>{var U=Wi(),P=s(i(U),2),d=i(P),v=s(i(d),2),m=i(v,!0);a(v),a(d);var N=s(d,2);Re(N,17,()=>Object.entries(t(k).byType),([D,j])=>D,(D,j)=>{var Z=Ie(()=>yt(t(j),2));let Y=()=>t(Z)[0],l=()=>t(Z)[1];var o=Qi(),h=i(o),p=i(h);a(h);var C=s(h,2),W=i(C,!0);a(C),a(o),x(()=>{w(p,`${Y()??""}:`),w(W,l())}),r(D,o)}),a(P);var O=s(P,2);{var F=D=>{var j=Vi(),Z=s(i(j),2),Y=i(Z,!0);a(Z),a(j),x(l=>w(Y,l),[()=>_(t(k).oldestOperation)]),r(D,j)};b(O,D=>{t(k).oldestOperation&&D(F)})}var V=s(O,2);V.__click=[Pi,n,k],a(U),x(()=>w(m,t(k).total)),r(T,U)};b(te,T=>{t(k).total>0&&T(z)})}a(S),x((T,U,P,d)=>{w(ke,T),De(re,1,`status-text ${U??""}`,"svelte-mu12xm"),w(G,P),L.disabled=!t(n).canSync,w(ae,`${t(n).networkStatus.isOnline?"Online":"Offline"} `),w(q,d)},[K,fe,ce,()=>_(t(n).lastSync)]),r(g,S),We()}Ae(["click"]);Ae(["click","change","input"]);Ae(["change","click"]);Ae(["click"]);Fe({sources:{items:{},currentSource:null,isLoading:!1,lastUpdated:null},content:{items:{},currentContent:null,isProcessing:!1,processingProgress:0},batch:{jobs:{},activeJob:null,queue:[],isProcessing:!1},transformation:{opportunities:[],isAnalyzing:!1,currentTransformation:null,transformationHistory:[]},ui:{activeView:"sources",selectedItems:[],searchQuery:"",filters:{domain:"",category:"",status:"all"},notifications:[]}});Ae(["click","change"]);Ae(["change"]);Ae(["click"]);Ae(["click"]);Ae(["click"]);export{al as C,il as R,ll as S,sl as a,rl as b};
