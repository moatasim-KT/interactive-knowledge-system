const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/DG3UZo5P.js","../chunks/d1NyGob4.js","../assets/components-knowledge.lLDfAUfq.css"])))=>i.map(i=>d[i]);
import{_ as Ie}from"../chunks/CmsKOCeN.js";import{p as Ue,s as j,b as $e,M as ze,f as S,ar as Ae,C as U,n,o as Fe,as as qe,i as s,h as r,e as c,g as t,w as g,D as O,t as L,q as F,c as M,r as a,k as K,m as Ne,j as Re,A as Ee,x as Le}from"../chunks/d1NyGob4.js";import{o as B,n as he}from"../chunks/BoPf8oN2.js";import"../chunks/DG3UZo5P.js";import{C as Z,b as V,I as be,B as P,L as J}from"../chunks/D-faybVX.js";import{O as Me}from"../chunks/6rAla2r7.js";var Be=S('<h2>System Status</h2> <div class="status-grid svelte-1lbs4um"><div class="status-item svelte-1lbs4um"><span class="label svelte-1lbs4um">Network:</span> <!></div> <div class="status-item svelte-1lbs4um"><span class="label svelte-1lbs4um">Storage:</span> <!></div> <div class="status-item svelte-1lbs4um"><span class="label svelte-1lbs4um">Queue Size:</span> <!></div> <div class="status-item svelte-1lbs4um"><span class="label svelte-1lbs4um">Pending Updates:</span> <!></div></div>',1),Qe=S("<!> Create Content",1),je=S("<!> Update Progress",1),Ke=S("<!> Update Settings",1),Ve=S("<!> Run All Tests",1),Ge=S('<h2>Test Controls</h2> <div class="control-section svelte-1lbs4um"><h3 class="svelte-1lbs4um">Content Operations</h3> <div class="input-group svelte-1lbs4um"><!> <!></div></div> <div class="control-section svelte-1lbs4um"><h3 class="svelte-1lbs4um">Progress Operations</h3> <div class="input-group svelte-1lbs4um"><!> <!></div></div> <div class="control-section svelte-1lbs4um"><h3 class="svelte-1lbs4um">Settings Operations</h3> <div class="input-group svelte-1lbs4um"><select class="theme-select svelte-1lbs4um"><option>Light</option><option>Dark</option></select> <!></div></div> <div class="control-section svelte-1lbs4um"><h3 class="svelte-1lbs4um">System Tests</h3> <div class="button-group svelte-1lbs4um"><!> <!></div></div> <div class="control-section svelte-1lbs4um"><h3 class="svelte-1lbs4um">Network Simulation</h3> <div class="button-group svelte-1lbs4um"><!> <!></div></div> <div class="control-section svelte-1lbs4um"><h3 class="svelte-1lbs4um">Batch Operations</h3> <div class="button-group svelte-1lbs4um"><!> <!></div></div>',1),He=S('<p class="no-results svelte-1lbs4um">No test results yet. Run some tests to see results here.</p>'),Je=S('<div><div class="result-header svelte-1lbs4um"><span class="test-name svelte-1lbs4um"> </span> <!></div> <div class="result-details svelte-1lbs4um"> </div></div>'),We=S('<div class="results-list svelte-1lbs4um"></div>'),Xe=S("<h2>Test Results</h2> <!>",1),Ye=S('<!> <div class="offline-demo svelte-1lbs4um"><div class="header svelte-1lbs4um"><h1 class="svelte-1lbs4um">Offline Functionality Demo</h1> <p class="svelte-1lbs4um">Test and demonstrate offline capabilities of the Interactive Knowledge System.</p></div> <div class="demo-grid svelte-1lbs4um"><!> <!> <!></div></div>',1);function lt(Se,we){Ue(we,!0);let o=j(!1),q=j($e([])),W=j(""),X=j(75),Y=j("light"),ee=$e({id:"demo-content-"+Date.now(),title:"Demo Content",blocks:[{id:"block-1",type:"text",content:{html:"<p>This is demo content created offline.</p>"},metadata:{created:new Date,modified:new Date,version:1}}],metadata:{author:"Demo User",created:new Date,modified:new Date,version:1,difficulty:3,estimatedTime:10,prerequisites:[],tags:["demo","offline"],language:"en"},relationships:{prerequisites:[],dependents:[],related:[]},analytics:{views:0,completions:0,averageScore:0,averageTime:0}});ze(async()=>{try{await B.initialize({enableAutoSync:!0,syncInterval:3e4,enableOptimisticUpdates:!0,enableOfflineQueue:!0,enableNetworkDetection:!0}),d("Offline Manager Initialization","Success",!0)}catch(e){d("Offline Manager Initialization",`Failed: ${e}`,!1)}});function d(e,m,_){c(q,[...t(q),{test:e,result:m,success:_}],!0)}async function te(){c(o,!0);try{const e={...ee,id:"test-content-"+Date.now(),title:t(W)||"Test Content",metadata:{...ee.metadata,created:new Date,modified:new Date}},m=await B.createContent(e);d("Create Content",`Success - Operation ID: ${m}`,!0)}catch(e){d("Create Content",`Failed: ${e}`,!1)}finally{c(o,!1)}}async function se(){c(o,!0);try{const e={userId:"demo-user",moduleId:"demo-module",status:"in-progress",score:t(X),timeSpent:1200,lastAccessed:new Date,attempts:1,bookmarked:!1,notes:"Testing offline progress update"},m=await B.updateProgress("demo-module",e);d("Update Progress",`Success - Operation ID: ${m}`,!0)}catch(e){d("Update Progress",`Failed: ${e}`,!1)}finally{c(o,!1)}}async function ae(){c(o,!0);try{const e={preferences:{theme:t(Y),learningStyle:"visual",difficulty:4,language:"en",notifications:!0,autoSave:!0}},m=await B.updateSettings(e);d("Update Settings",`Success - Operation ID: ${m}`,!0)}catch(e){d("Update Settings",`Failed: ${e}`,!1)}finally{c(o,!1)}}async function re(){c(o,!0);try{const{storage:e}=await Ie(async()=>{const{storage:w}=await import("../chunks/DG3UZo5P.js").then(y=>y.i);return{storage:w}},__vite__mapDeps([0,1,2]),import.meta.url),m={id:"storage-test",title:"Storage Test",blocks:[],metadata:{author:"Test",created:new Date,modified:new Date,version:1,difficulty:3,estimatedTime:5,prerequisites:[],tags:["test"],language:"en"},relationships:{prerequisites:[],dependents:[],related:[]},analytics:{views:0,completions:0,averageScore:0,averageTime:0}};await e.put("modules",m);const _=await e.get("modules","storage-test");_&&_.title==="Storage Test"?d("Offline Storage","Success - Data stored and retrieved",!0):d("Offline Storage","Failed - Data not retrieved correctly",!1)}catch(e){d("Offline Storage",`Failed: ${e}`,!1)}finally{c(o,!1)}}async function le(){c(o,!0);try{const e=he.getNetworkStatus(),m=he.isOnline();d("Network Detection",`Online: ${m}, Type: ${e.connectionType||"unknown"}`,!0)}catch(e){d("Network Detection",`Failed: ${e}`,!1)}finally{c(o,!1)}}async function ye(){try{window.dispatchEvent(new Event("offline")),d("Simulate Offline","Offline event dispatched",!0)}catch(e){d("Simulate Offline",`Failed: ${e}`,!1)}}async function Oe(){try{window.dispatchEvent(new Event("online")),d("Simulate Online","Online event dispatched",!0)}catch(e){d("Simulate Online",`Failed: ${e}`,!1)}}async function De(){c(q,[],!0),await re(),await le(),await te(),await se(),await ae()}function ke(){c(q,[],!0)}function Pe(){if(!B.isAvailable())return{total:0,success:0,failed:0};const e=B.getStatistics();return{queueSize:e.queueSize||0,pendingUpdates:e.pendingUpdates||0,isOnline:e.isOnline,storageAvailable:e.storageAvailable}}const T=M(Pe);var ie=Ye();Ae(e=>{qe.title="Offline Functionality Demo"});var ne=U(ie);Me(ne,{});var oe=s(ne,2),de=s(r(oe),2),ue=r(de);Z(ue,{class:"status-card",padding:"lg",children:(e,m)=>{var _=Be(),w=s(U(_),2),y=r(w),N=s(r(y),2);{let p=M(()=>t(T).isOnline?"success":"error");V(N,{get variant(){return t(p)},children:(u,k)=>{g();var v=O();L(()=>F(v,t(T).isOnline?"Online":"Offline")),n(u,v)},$$slots:{default:!0}})}a(y);var $=s(y,2),h=s(r($),2);{let p=M(()=>t(T).storageAvailable?"success":"error");V(h,{get variant(){return t(p)},children:(u,k)=>{g();var v=O();L(()=>F(v,t(T).storageAvailable?"Available":"Unavailable")),n(u,v)},$$slots:{default:!0}})}a($);var x=s($,2),b=s(r(x),2);{let p=M(()=>t(T).queueSize>0?"warning":"default");V(b,{get variant(){return t(p)},children:(u,k)=>{g();var v=O();L(()=>F(v,t(T).queueSize)),n(u,v)},$$slots:{default:!0}})}a(x);var D=s(x,2),C=s(r(D),2);{let p=M(()=>t(T).pendingUpdates>0?"warning":"default");V(C,{get variant(){return t(p)},children:(u,k)=>{g();var v=O();L(()=>F(v,t(T).pendingUpdates)),n(u,v)},$$slots:{default:!0}})}a(D),a(w),n(e,_)},$$slots:{default:!0}});var ve=s(ue,2);Z(ve,{class:"controls-card",padding:"lg",children:(e,m)=>{var _=Ge(),w=s(U(_),2),y=s(r(w),2),N=r(y);be(N,{placeholder:"Content title",label:"Content Title",get value(){return t(W)},set value(l){c(W,l,!0)}});var $=s(N,2);P($,{onclick:te,get disabled(){return t(o)},children:(l,I)=>{var i=Qe(),z=U(i);{var A=f=>{J(f,{size:"sm"})};K(z,f=>{t(o)&&f(A)})}g(),n(l,i)},$$slots:{default:!0}}),a(y),a(w);var h=s(w,2),x=s(r(h),2),b=r(x);be(b,{type:"number",min:"0",max:"100",label:"Progress Score",get value(){return t(X)},set value(l){c(X,l,!0)}});var D=s(b,2);P(D,{onclick:se,get disabled(){return t(o)},children:(l,I)=>{var i=je(),z=U(i);{var A=f=>{J(f,{size:"sm"})};K(z,f=>{t(o)&&f(A)})}g(),n(l,i)},$$slots:{default:!0}}),a(x),a(h);var C=s(h,2),p=s(r(C),2),u=r(p),k=r(u);k.value=k.__value="light";var v=s(k);v.value=v.__value="dark",a(u);var G=s(u,2);P(G,{onclick:ae,get disabled(){return t(o)},children:(l,I)=>{var i=Ke(),z=U(i);{var A=f=>{J(f,{size:"sm"})};K(z,f=>{t(o)&&f(A)})}g(),n(l,i)},$$slots:{default:!0}}),a(p),a(C);var Q=s(C,2),R=s(r(Q),2),H=r(R);P(H,{onclick:re,get disabled(){return t(o)},children:(l,I)=>{g();var i=O("Test Storage");n(l,i)},$$slots:{default:!0}});var ce=s(H,2);P(ce,{onclick:le,get disabled(){return t(o)},children:(l,I)=>{g();var i=O("Test Network");n(l,i)},$$slots:{default:!0}}),a(R),a(Q);var E=s(Q,2),fe=s(r(E),2),me=r(fe);P(me,{onclick:ye,variant:"outlined",children:(l,I)=>{g();var i=O("Simulate Offline");n(l,i)},$$slots:{default:!0}});var xe=s(me,2);P(xe,{onclick:Oe,variant:"outlined",children:(l,I)=>{g();var i=O("Simulate Online");n(l,i)},$$slots:{default:!0}}),a(fe),a(E);var pe=s(E,2),ge=s(r(pe),2),_e=r(ge);P(_e,{onclick:De,get disabled(){return t(o)},children:(l,I)=>{var i=Ve(),z=U(i);{var A=f=>{J(f,{size:"sm"})};K(z,f=>{t(o)&&f(A)})}g(),n(l,i)},$$slots:{default:!0}});var Ce=s(_e,2);P(Ce,{onclick:ke,variant:"outlined",children:(l,I)=>{g();var i=O("Clear Results");n(l,i)},$$slots:{default:!0}}),a(ge),a(pe),Ne(u,()=>t(Y),l=>c(Y,l)),n(e,_)},$$slots:{default:!0}});var Te=s(ve,2);Z(Te,{class:"results-card",padding:"lg",children:(e,m)=>{var _=Xe(),w=s(U(_),2);{var y=$=>{var h=He();n($,h)},N=$=>{var h=We();Re(h,21,()=>t(q),Ee,(x,b)=>{var D=Je();let C;var p=r(D),u=r(p),k=r(u,!0);a(u);var v=s(u,2);{let R=M(()=>t(b).success?"success":"error");V(v,{get variant(){return t(R)},children:(H,ce)=>{g();var E=O();L(()=>F(E,t(b).success?"Success":"Failed")),n(H,E)},$$slots:{default:!0}})}a(p);var G=s(p,2),Q=r(G,!0);a(G),a(D),L(R=>{C=Le(D,1,"result-item svelte-1lbs4um",null,C,R),F(k,t(b).test),F(Q,t(b).result)},[()=>({success:t(b).success,failure:!t(b).success})]),n(x,D)}),a(h),n($,h)};K(w,$=>{t(q).length===0?$(y):$(N,!1)})}n(e,_)},$$slots:{default:!0}}),a(de),a(oe),n(Se,ie),Fe()}export{lt as component};
