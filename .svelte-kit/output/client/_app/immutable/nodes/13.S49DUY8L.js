import{d as Je,p as Ke,s as j,b as ee,M as Pe,f as S,ar as We,h as s,k as A,t as D,n as x,o as Be,e as u,g as e,as as Ie,i as a,r as t,E as Ue,C as Ge,q as m,c as Ne,j as Oe,v as Ve,W as Qe,A as Xe,w as H,D as we}from"../chunks/d1NyGob4.js";import{R as Ye}from"../chunks/V1xUL-Ut.js";import{e as Ze}from"../chunks/DG3UZo5P.js";import"../chunks/B-gt8t9T.js";import"../chunks/BWJA31ZZ.js";import"../chunks/6rAla2r7.js";import{c as z,r as p}from"../chunks/BoPf8oN2.js";import{n as et}from"../chunks/DsZ6whlC.js";import"../chunks/D-faybVX.js";async function he(J,q,l,r,o,g,_,f,K){u(q,!0);try{const b=await z.getAllModules();for(const P of b)await z.deleteModule(P.id);const te=await p.getLinksForContent("");e(l).clear(),u(r,null),u(o,[],!0),await g(),await _(),await f()}catch(b){u(K,`Failed to reset demo: ${b}`)}finally{u(q,!1)}}var tt=S('<div class="loading-state svelte-1xw0rx5"><div class="spinner svelte-1xw0rx5"></div> <p class="svelte-1xw0rx5">Loading relationship system...</p></div>'),st=S('<div class="error-state svelte-1xw0rx5"><h3 class="svelte-1xw0rx5">Error</h3> <p class="svelte-1xw0rx5"> </p> <button class="btn btn-primary svelte-1xw0rx5">Try Again</button></div>'),at=(J,q,l)=>q(e(l).id),it=S('<label class="checkbox-label svelte-1xw0rx5"><input type="checkbox" class="svelte-1xw0rx5"/> </label>'),rt=S('<section class="module-details svelte-1xw0rx5"><h2 class="svelte-1xw0rx5"> </h2> <p class="svelte-1xw0rx5"> </p> <div class="module-info svelte-1xw0rx5"><div class="info-item svelte-1xw0rx5"><strong class="svelte-1xw0rx5">Difficulty:</strong> </div> <div class="info-item svelte-1xw0rx5"><strong class="svelte-1xw0rx5">Estimated Time:</strong> </div> <div class="info-item svelte-1xw0rx5"><strong class="svelte-1xw0rx5">Tags:</strong> </div> <div class="info-item svelte-1xw0rx5"><strong class="svelte-1xw0rx5">Prerequisites:</strong> <!></div></div> <!></section>'),nt=S('<section class="recommendations-section svelte-1xw0rx5"><h2 class="svelte-1xw0rx5">Personalized Recommendations</h2> <p class="svelte-1xw0rx5">Based on your progress and preferences, here are some recommended next steps:</p></section>'),lt=S('<div class="demo-content svelte-1xw0rx5"><section class="map-section svelte-1xw0rx5"><h2 class="svelte-1xw0rx5">Knowledge Map</h2> <p class="svelte-1xw0rx5">Visual representation of content relationships. Click nodes to explore connections.</p> <div class="map-container svelte-1xw0rx5"><!></div> <div class="completion-controls svelte-1xw0rx5"><h3 class="svelte-1xw0rx5">Mark as Completed:</h3> <div class="module-checkboxes svelte-1xw0rx5"></div></div></section> <!> <!> <section class="stats-section svelte-1xw0rx5"><h2 class="svelte-1xw0rx5">System Statistics</h2> <div class="stats-grid svelte-1xw0rx5"><div class="stat-card svelte-1xw0rx5"><div class="stat-number svelte-1xw0rx5"> </div> <div class="stat-label svelte-1xw0rx5">Total Modules</div></div> <div class="stat-card svelte-1xw0rx5"><div class="stat-number svelte-1xw0rx5"> </div> <div class="stat-label svelte-1xw0rx5">Completed</div></div> <div class="stat-card svelte-1xw0rx5"><div class="stat-number svelte-1xw0rx5"> </div> <div class="stat-label svelte-1xw0rx5">Recommendations</div></div> <div class="stat-card svelte-1xw0rx5"><div class="stat-number svelte-1xw0rx5"> </div> <div class="stat-label svelte-1xw0rx5">Progress</div></div></div></section></div>'),ot=S(`<div class="demo-container svelte-1xw0rx5"><header class="demo-header svelte-1xw0rx5"><h1 class="svelte-1xw0rx5">Content Relationship System Demo</h1> <p class="svelte-1xw0rx5">Explore how content pieces are connected through prerequisites, similarities, and
            recommendations.</p> <div class="demo-controls svelte-1xw0rx5"><button class="btn btn-secondary svelte-1xw0rx5">Reset Demo</button></div></header> <!></div>`);function gt(J,q){Ke(q,!0);let l=j(ee([])),r=j(null),o=j(ee(new Set)),g=j(ee([])),_=j(!0),f=j("");const K=[{id:"html-basics",title:"HTML Basics",description:"Learn the fundamentals of HTML markup language",blocks:[],relationships:{prerequisites:[],dependents:[],related:[]},analytics:{views:150,completions:120,averageScore:85,averageTime:60}},{id:"css-fundamentals",title:"CSS Fundamentals",description:"Understanding CSS styling and layout",blocks:[],relationships:{prerequisites:["html-basics"],dependents:[],related:[]},analytics:{views:130,completions:100,averageScore:78,averageTime:90}},{id:"javascript-intro",title:"JavaScript Introduction",description:"Getting started with JavaScript programming",blocks:[],relationships:{prerequisites:["html-basics"],dependents:[],related:[]},analytics:{views:140,completions:110,averageScore:82,averageTime:120}},{id:"responsive-design",title:"Responsive Web Design",description:"Creating websites that work on all devices",blocks:[],relationships:{prerequisites:["css-fundamentals"],dependents:[],related:[]},analytics:{views:100,completions:75,averageScore:80,averageTime:150}},{id:"dom-manipulation",title:"DOM Manipulation",description:"Using JavaScript to interact with HTML elements",blocks:[],relationships:{prerequisites:["javascript-intro","css-fundamentals"],dependents:[],related:[]},analytics:{views:90,completions:65,averageScore:75,averageTime:180}},{id:"web-accessibility",title:"Web Accessibility",description:"Making websites accessible to all users",blocks:[],relationships:{prerequisites:["html-basics"],dependents:[],related:[]},analytics:{views:80,completions:60,averageScore:88,averageTime:100}}];Pe(async()=>{try{await b(),await W(),await L()}catch(i){u(f,`Failed to initialize demo: ${i}`)}finally{u(_,!1)}});async function b(){if((await z.getAllModules()).length===0){for(const c of K){const n={...c,metadata:{author:"demo-instructor",created:new Date,modified:new Date,version:1,difficulty:Math.floor(Math.random()*3)+1,estimatedTime:60+Math.floor(Math.random()*120),prerequisites:c.relationships.prerequisites,tags:te(c.title,c.description),language:"en"}};await z.createModule(n)}await P()}}function te(i,c){const n=`${i} ${c}`.toLowerCase(),d=[];return n.includes("html")&&d.push("html"),n.includes("css")&&d.push("css"),n.includes("javascript")&&d.push("javascript"),n.includes("web")&&d.push("web-development"),n.includes("design")&&d.push("design"),n.includes("responsive")&&d.push("responsive"),n.includes("accessibility")&&d.push("accessibility"),n.includes("dom")&&d.push("dom"),(n.includes("basic")||n.includes("fundamental")||n.includes("intro"))&&d.push("beginner"),d.length>0?d:["web-development"]}async function P(){await p.createLink("html-basics","css-fundamentals","prerequisite",1),await p.createLink("html-basics","javascript-intro","prerequisite",.8),await p.createLink("css-fundamentals","responsive-design","prerequisite",1),await p.createLink("javascript-intro","dom-manipulation","prerequisite",1),await p.createLink("css-fundamentals","dom-manipulation","prerequisite",.6),await p.createLink("html-basics","web-accessibility","prerequisite",.7),await p.createLink("css-fundamentals","responsive-design","related",.8),await p.createLink("html-basics","web-accessibility","related",.9),await p.createLink("javascript-intro","dom-manipulation","related",.7),await p.createLink("css-fundamentals","responsive-design","similar",.6)}async function W(){u(l,await z.getAllModules(),!0),e(l).length>0&&!e(r)&&u(r,e(l)[0],!0)}async function L(){if(e(l).length!==0)try{u(g,await et.generateRecommendations("demo-user",e(o),e(r)?.id||null,e(l),5),!0)}catch(i){console.error("Failed to load recommendations:",i)}}function ge(i){const c=e(l).find(n=>n.id===i);c&&(u(r,c,!0),L())}async function _e(i){e(o).has(i)?e(o).delete(i):e(o).add(i),u(o,new Set(e(o)),!0),await L()}async function fe(){await L()}var B=ot();We(i=>{Ie.title="Relationship System Demo - Interactive Knowledge System"});var I=s(B),se=a(s(I),4),ae=s(se);ae.__click=[he,_,o,r,g,b,W,L,f],t(se),t(I);var be=a(I,2);{var ye=i=>{var c=tt();x(i,c)},ke=i=>{var c=Ue(),n=Ge(c);{var d=T=>{var y=st(),k=a(s(y),2),R=s(k,!0);t(k);var U=a(k,2);U.__click=[he,_,o,r,g,b,W,L,f],t(y),D(()=>m(R,e(f))),x(T,y)},Me=T=>{var y=lt(),k=s(y),R=a(s(k),4),U=s(R);{let v=Ne(()=>e(r)?.id);Ze(U,{get modules(){return e(l)},get completedContent(){return e(o)},get currentContent(){return e(v)},width:800,height:500,onnodeclick:ge})}t(R);var ie=a(R,2),re=a(s(ie),2);Oe(re,21,()=>e(l),Xe,(v,w)=>{var M=it(),C=s(M);Ve(C),C.__change=[at,_e,w];var $=a(C);t(M),D(V=>{Qe(C,V),m($,` ${e(w).title??""}`)},[()=>e(o).has(e(w).id)]),x(v,M)}),t(re),t(ie),t(k);var ne=a(k,2);{var Se=v=>{var w=rt(),M=s(w),C=s(M);t(M);var $=a(M,2),V=s($,!0);t($);var Q=a($,2),X=s(Q),De=a(s(X));t(X);var Y=a(X,2),Re=a(s(Y));t(Y);var Z=a(Y,2),$e=a(s(Z));t(Z);var xe=a(Z,2),Ae=a(s(xe),2);{var ze=h=>{var E=we();D(F=>m(E,F),[()=>e(r).metadata.prerequisites.map(F=>e(l).find(He=>He.id===F)?.title||F).join(", ")]),x(h,E)},Ee=h=>{var E=we("None");x(h,E)};A(Ae,h=>{e(r).metadata.prerequisites.length>0?h(ze):h(Ee,!1)})}t(xe),t(Q);var Fe=a(Q,2);Ye(Fe,{get currentModule(){return e(r)},get allModules(){return e(l)},get completedContent(){return e(o)},onrelationshipchange:fe}),t(w),D(h=>{m(C,`Selected Module: ${e(r).title??""}`),m(V,e(r).description),m(De,` ${e(r).metadata.difficulty??""}/5`),m(Re,` ${e(r).metadata.estimatedTime??""} minutes`),m($e,` ${h??""}`)},[()=>e(r).metadata.tags.join(", ")]),x(v,w)};A(ne,v=>{e(r)&&v(Se)})}var le=a(ne,2);{var qe=v=>{var w=nt();x(v,w)};A(le,v=>{e(g).length>0&&v(qe)})}var oe=a(le,2),ce=a(s(oe),2),G=s(ce),de=s(G),Le=s(de,!0);t(de),H(2),t(G);var N=a(G,2),ve=s(N),Te=s(ve,!0);t(ve),H(2),t(N);var O=a(N,2),me=s(O),Ce=s(me,!0);t(me),H(2),t(O);var ue=a(O,2),pe=s(ue),je=s(pe);t(pe),H(2),t(ue),t(ce),t(oe),t(y),D(v=>{m(Le,e(l).length),m(Te,e(o).size),m(Ce,e(g).length),m(je,`${v??""}%`)},[()=>Math.round(e(o).size/e(l).length*100)]),x(T,y)};A(n,T=>{e(f)?T(d):T(Me,!1)},!0)}x(i,c)};A(be,i=>{e(_)?i(ye):i(ke,!1)})}t(B),D(()=>ae.disabled=e(_)),x(J,B),Be()}Je(["click","change"]);export{gt as component};
