import{p as Ae,u as le,v as Me,f as p,B as V,j,r as s,h as a,E as de,i as t,w as e,y as k,t as D,g as r,e as te,m as h,D as I,R as Le,O as Re,k as fe,s as ze,P as ge,n as We,H as De,l as Ie}from"../chunks/D9dWO0Sc.js";import{b as n,a as x,g as Fe,c as He}from"../chunks/BdGMWZf_.js";import{R as Ke}from"../chunks/CbCIEQYH.js";import{G as Ge}from"../chunks/CKKAaEKi.js";import{T as qe,R as Qe,C as U,P as Ne,c as _e,B as X,I as Te,d as Oe}from"../chunks/BAURvd7r.js";import{b as be,c as Je}from"../chunks/D_auFp29.js";import"../chunks/B_es5EVb.js";import{s as Ue}from"../chunks/COEqP30R.js";import"../chunks/hAlw3l8v.js";import"../chunks/DvEoYHKW.js";import"../chunks/Dob3nYDb.js";function Xe(we,ce){Ae(ce,!0),le(()=>{const $=n.content.currentNode;if($&&n.user.settings?.preferences.autoSave){const C=setTimeout(()=>{re($)},1e3);return()=>clearTimeout(C)}}),le(()=>{if(typeof window<"u"){const $=()=>x.setOnlineStatus(!0),C=()=>x.setOnlineStatus(!1);return window.addEventListener("online",$),window.addEventListener("offline",C),()=>{window.removeEventListener("online",$),window.removeEventListener("offline",C)}}}),le(()=>{n.sync.isOnline&&n.sync.pendingChanges.length>0&&w()}),le(()=>{const $=n.user.settings?.preferences.theme||"light";typeof document<"u"&&document.documentElement.setAttribute("data-theme",$)}),le(()=>{n.ui.notifications.forEach(C=>{C.type!=="error"&&setTimeout(()=>{x.removeNotification(C.id)},5e3)})});async function re($){try{console.log("Auto-saving node:",$.id),x.addNotification({type:"success",message:"Content auto-saved"})}catch(C){console.error("Auto-save failed:",C),x.addNotification({type:"error",message:"Auto-save failed"})}}async function w(){if(!n.sync.isSyncing){x.setSyncStatus(!0);try{console.log("Syncing pending changes:",n.sync.pendingChanges),n.sync.pendingChanges.forEach($=>{x.removePendingChange($)}),x.addNotification({type:"success",message:"Changes synced successfully"})}catch($){console.error("Sync failed:",$),x.addNotification({type:"error",message:"Sync failed - changes will retry later"})}finally{x.setSyncStatus(!1)}}}Me()}var Ye=p("<div></div> ",1),Ze=p('<div class="w-3 h-3 mr-1 animate-spin"><svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z" clip-rule="evenodd"></path></svg></div> Syncing',1),et=De('<svg class="w-4 h-4 transition-transform duration-300" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z" clip-rule="evenodd"></path></svg>'),tt=p('<div class="flex items-center justify-between p-4"><div class="flex items-center gap-4"><h1 class="text-xl font-bold text-text-primary">Interactive Knowledge System</h1></div> <div class="flex items-center gap-4"><div class="hidden md:block"><!></div> <div class="flex items-center gap-3"><!> <!></div> <!></div></div>'),at=p('<div class="flex items-center justify-between"><div class="flex items-center gap-2 min-w-0"><span class="text-base transition-transform group-hover:scale-110"> </span> <span class="truncate font-medium"> </span></div> <div class="flex items-center gap-2"><!></div></div>'),st=p('<div class="flex flex-col h-full"><div class="p-4 border-b border-border md:hidden"><!></div> <nav class="p-4 border-b border-border"><h3 class="text-sm font-semibold text-text-secondary uppercase tracking-wide mb-3">Navigation</h3> <div class="space-y-1"><!> <!> <!></div></nav> <div class="p-4 border-b border-border"><!></div> <div class="flex-1 p-4 overflow-y-auto"><h3 class="text-sm font-semibold text-text-secondary uppercase tracking-wide mb-3">Quick Access</h3> <!> <div class="space-y-1"></div> <!></div></div>'),rt=p('<div class="text-center"><div class="text-3xl font-bold text-primary-600 mb-2 group-hover:animate-pulse"> </div> <div class="text-sm text-text-secondary">Total Modules</div></div>'),nt=p('<div class="text-center"><div class="text-3xl font-bold text-success-600 mb-2 group-hover:animate-bounce"> </div> <div class="text-sm text-text-secondary">Completed</div></div>'),it=p('<div class="text-center"><div class="text-3xl font-bold text-warning-600 mb-2 group-hover:animate-wiggle"> </div> <div class="text-sm text-text-secondary">Completion Rate</div> <div class="mt-2"><!></div></div>'),ot=p('<div class="mt-2"><!></div>'),lt=p('<div class="text-center"><div class="text-3xl font-bold text-error-600 mb-2 group-hover:animate-heartbeat"> </div> <div class="text-sm text-text-secondary">Day Streak</div> <!></div>'),dt=p("<!> <!> <!> <!>",1),ct=p('<div class="space-y-6"><div class="flex items-center justify-between"><h2 class="text-2xl font-bold text-text-primary">Dashboard</h2></div> <!></div>'),vt=p('<div class="space-y-4"><h3 class="text-xl font-semibold"> </h3> <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-sm"><div><span class="text-text-secondary">Type:</span> <span class="ml-2 font-medium capitalize"> </span></div> <div><span class="text-text-secondary">Difficulty:</span> <span class="ml-2 font-medium"> </span></div> <div><span class="text-text-secondary">Time:</span> <span class="ml-2 font-medium"> </span></div> <div><span class="text-text-secondary">Tags:</span> <span class="ml-2 font-medium"> </span></div></div> <!></div>'),ut=p('<div class="text-center py-8"><div class="text-4xl mb-4">ðŸ“š</div> <h3 class="text-lg font-medium mb-2">No Content Selected</h3> <p class="text-text-secondary mb-4">Select a node from the knowledge tree to view its content.</p> <!></div>'),mt=p('<div class="space-y-6"><h2 class="text-2xl font-bold text-text-primary">Content</h2> <!></div>'),pt=p('<h3 class="text-lg font-semibold mb-4">Learning Statistics</h3> <div class="space-y-3"><div class="flex justify-between"><span class="text-text-secondary">Total Modules:</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span class="text-text-secondary">Completed:</span> <span class="font-medium text-success-600"> </span></div> <div class="flex justify-between"><span class="text-text-secondary">Average Score:</span> <span class="font-medium"> </span></div> <div class="flex justify-between"><span class="text-text-secondary">Current Streak:</span> <span class="font-medium text-warning-600"> </span></div></div>',1),ft=p('<div class="space-y-6"><h2 class="text-2xl font-bold text-text-primary">Progress</h2> <!></div>'),gt=p("<!>  <!> <!>",1),_t=p("<!> <!> <!>",1);function Tt(we,ce){Ae(ce,!0);const re=te(()=>()=>He()),w=te(()=>()=>Fe());Ue.initialize();const $={id:"sample-1",title:"Introduction to TypeScript",type:"module",metadata:{difficulty:2,estimatedTime:30,prerequisites:[],tags:["typescript","programming","basics"]},progress:{completed:!1,lastAccessed:new Date}};x.addKnowledgeNode($);const C={id:"ml-fundamentals",title:"Machine Learning Fundamentals",type:"module",metadata:{difficulty:3,estimatedTime:45,prerequisites:["basic-math","programming-basics"],tags:["machine-learning","ai","neural-networks","data-science","interactive"]},progress:{completed:!1,lastAccessed:new Date}};x.addKnowledgeNode(C);let he=ze(!0),ve=ze("");function Ve(){const Y=document.documentElement,xe=Y.getAttribute("data-theme")==="dark"?"light":"dark";Y.setAttribute("data-theme",xe),localStorage.setItem("theme",xe)}if(typeof window<"u"){const Y=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",Y)}var Pe=_t(),Se=V(Pe);be(Se,{children:(Y,Ee)=>{Ke(Y,{get sidebarOpen(){return r(he)},set sidebarOpen(Z){fe(he,Z,!0)},header:Z=>{var F=tt(),E=a(t(F),2),H=t(E),K=t(H);Te(K,{type:"search",placeholder:"Search knowledge base...",size:"sm",class:"w-64",get value(){return r(ve)},set value(y){fe(ve,y,!0)}}),e(H);var G=a(H,2),B=t(G);{let y=te(()=>n.sync.isOnline?"Connected to server":"Working offline");Oe(B,{get content(){return r(y)},children:(L,J)=>{{let O=te(()=>n.sync.isOnline?"success":"error");_e(L,{get variant(){return r(O)},size:"sm",class:"animate-fade-in",children:(P,R)=>{var i=Ye(),o=V(i);let b;var c=a(o);D(g=>{b=We(o,1,"w-2 h-2 rounded-full mr-1",null,b,g),h(c,` ${n.sync.isOnline?"Online":"Offline"}`)},[()=>({"bg-success-500":n.sync.isOnline,"bg-error-500":!n.sync.isOnline})]),s(P,i)},$$slots:{default:!0}})}},$$slots:{default:!0}})}var ae=a(B,2);{var q=y=>{_e(y,{variant:"primary",size:"sm",class:"animate-pulse",children:(L,J)=>{var O=Ze();k(),s(L,O)},$$slots:{default:!0}})};j(ae,y=>{n.sync.isSyncing&&y(q)})}e(G);var Q=a(G,2);Oe(Q,{content:"Toggle theme",children:(y,L)=>{X(y,{variant:"ghost",size:"sm",onclick:Ve,class:"hover:scale-105 transition-transform",children:(J,O)=>{var P=et();s(J,P)},$$slots:{default:!0}})},$$slots:{default:!0}}),e(E),e(F),s(Z,F)},sidebar:Z=>{var F=st(),E=t(F),H=t(E);Te(H,{type:"search",placeholder:"Search...",size:"sm",get value(){return r(ve)},set value(i){fe(ve,i,!0)}}),e(E);var K=a(E,2),G=a(t(K),2),B=t(G);{let i=te(()=>n.ui.currentView==="dashboard"?"primary":"ghost");X(B,{get variant(){return r(i)},size:"sm",fullWidth:!0,onclick:()=>x.setCurrentView("dashboard"),class:"justify-start",children:(o,b)=>{k();var c=I("ðŸ“Š Dashboard");s(o,c)},$$slots:{default:!0}})}var ae=a(B,2);{let i=te(()=>n.ui.currentView==="content"?"primary":"ghost");X(ae,{get variant(){return r(i)},size:"sm",fullWidth:!0,onclick:()=>x.setCurrentView("content"),class:"justify-start",children:(o,b)=>{k();var c=I("ðŸ“š Content");s(o,c)},$$slots:{default:!0}})}var q=a(ae,2);{let i=te(()=>n.ui.currentView==="progress"?"primary":"ghost");X(q,{get variant(){return r(i)},size:"sm",fullWidth:!0,onclick:()=>x.setCurrentView("progress"),class:"justify-start",children:(o,b)=>{k();var c=I("ðŸ“ˆ Progress");s(o,c)},$$slots:{default:!0}})}e(G),e(K);var Q=a(K,2),y=t(Q);Je(y,{}),e(Q);var L=a(Q,2),J=a(t(L),2);X(J,{variant:"ghost",size:"sm",fullWidth:!0,onclick:()=>ge("/knowledge"),class:"justify-start mb-2",children:(i,o)=>{k();var b=I("ðŸ  Knowledge Base");s(i,b)},$$slots:{default:!0}});var O=a(J,2);Ie(O,21,()=>r(re)().slice(0,8),i=>i.id,(i,o)=>{U(i,{interactive:!0,padding:"sm",class:"text-sm animate-slide-in-left transition-all hover:scale-[1.02] hover:-translate-y-0.5 group",onclick:()=>{x.setCurrentNode(r(o)),ge(`/knowledge/${r(o).id}`),window.innerWidth<1024&&fe(he,!1)},children:(b,c)=>{var g=at(),A=t(g),M=t(A),W=t(M,!0);e(M);var v=a(M,2),z=t(v,!0);e(v),e(A);var d=a(A,2),l=t(d);{var f=m=>{_e(m,{variant:"success",size:"sm",class:"animate-scale-in",children:(u,N)=>{k();var T=I("âœ“");s(u,T)},$$slots:{default:!0}})},_=m=>{var u=de(),N=V(u);{var T=S=>{Ne(S,{get value(){return r(o).progress.score},size:"sm",class:"w-12",variant:"default"})};j(N,S=>{r(o).progress?.score&&S(T)},!0)}s(m,u)};j(l,m=>{r(o).progress?.completed?m(f):m(_,!1)})}e(d),e(g),D(()=>{h(W,r(o).type==="folder"?"ðŸ“":r(o).type==="module"?"ðŸ“š":"ðŸ“„"),h(z,r(o).title)}),s(b,g)},$$slots:{default:!0}})}),e(O);var P=a(O,2);{var R=i=>{X(i,{variant:"outline",size:"sm",fullWidth:!0,onclick:()=>ge("/knowledge"),class:"mt-3",children:(o,b)=>{k();var c=I();D(g=>h(c,`View All (${g??""} more)`),[()=>r(re)().length-8]),s(o,c)},$$slots:{default:!0}})};j(P,i=>{r(re)().length>8&&i(R)})}e(L),e(F),s(Z,F)},children:(Z,F)=>{var E=gt(),H=V(E);Xe(H,{});var K=a(H,2);Qe(K,{maxWidth:"full",padding:"md",class:"mobile:px-3",children:(B,ae)=>{be(B,{children:(q,Q)=>{var y=de(),L=V(y);{var J=P=>{var R=ct(),i=a(t(R),2);Ge(i,{cols:{mobile:1,sm:2,lg:4},gap:{mobile:3,sm:4,lg:6},children:(o,b)=>{var c=dt(),g=V(c);U(g,{variant:"elevated",padding:"lg",class:"animate-slide-in-up hover:scale-105 transition-all duration-300 group",children:(v,z)=>{var d=rt(),l=t(d),f=t(l,!0);e(l),k(2),e(d),D(_=>h(f,_),[()=>r(w)().totalModules]),s(v,d)},$$slots:{default:!0}});var A=a(g,2);U(A,{variant:"elevated",padding:"lg",class:"animate-slide-in-up hover:scale-105 transition-all duration-300 group",children:(v,z)=>{var d=nt(),l=t(d),f=t(l,!0);e(l),k(2),e(d),D(_=>h(f,_),[()=>r(w)().completedModules]),s(v,d)},$$slots:{default:!0}});var M=a(A,2);U(M,{variant:"elevated",padding:"lg",class:"animate-slide-in-up hover:scale-105 transition-all duration-300 group",children:(v,z)=>{var d=it(),l=t(d),f=t(l);e(l);var _=a(l,4),m=t(_);Ne(m,{get value(){return r(w)().completionRate},variant:"warning",size:"sm",animated:!0,striped:!0}),e(_),e(d),D(u=>h(f,`${u??""}%`),[()=>r(w)().completionRate.toFixed(1)]),s(v,d)},$$slots:{default:!0}});var W=a(M,2);U(W,{variant:"elevated",padding:"lg",class:"animate-slide-in-up hover:scale-105 transition-all duration-300 group",children:(v,z)=>{var d=lt(),l=t(d),f=t(l,!0);e(l);var _=a(l,4);{var m=u=>{var N=ot(),T=t(N);_e(T,{variant:"error",size:"sm",class:"animate-glow",children:(S,ne)=>{k();var ee=I("ðŸ”¥ On Fire!");s(S,ee)},$$slots:{default:!0}}),e(N),s(u,N)};j(_,u=>{r(w)().currentStreak>0&&u(m)})}e(d),D(u=>h(f,u),[()=>r(w)().currentStreak]),s(v,d)},$$slots:{default:!0}}),s(o,c)},$$slots:{default:!0}}),e(R),s(P,R)},O=P=>{var R=de(),i=V(R);{var o=c=>{var g=mt(),A=a(t(g),2);{var M=v=>{U(v,{variant:"elevated",padding:"lg",children:(z,d)=>{var l=vt(),f=t(l),_=t(f,!0);e(f);var m=a(f,2),u=t(m),N=a(t(u),2),T=t(N,!0);e(N),e(u);var S=a(u,2),ne=a(t(S),2),ee=t(ne);e(ne),e(S);var se=a(S,2),ue=a(t(se),2),me=t(ue);e(ue),e(se);var ie=a(se,2),pe=a(t(ie),2),$e=t(pe,!0);e(pe),e(ie),e(m);var ye=a(m,2);X(ye,{variant:"primary",onclick:()=>x.markModuleCompleted(n.content.currentNode.id,85),children:(oe,Ce)=>{k();var Be=I("Mark as Completed (85% score)");s(oe,Be)},$$slots:{default:!0}}),e(l),D(oe=>{h(_,n.content.currentNode.title),h(T,n.content.currentNode.type),h(ee,`${n.content.currentNode.metadata.difficulty??""}/5`),h(me,`${n.content.currentNode.metadata.estimatedTime??""}min`),h($e,oe)},[()=>n.content.currentNode.metadata.tags.join(", ")||"None"]),s(z,l)},$$slots:{default:!0}})},W=v=>{U(v,{padding:"lg",children:(z,d)=>{var l=ut(),f=a(t(l),6);X(f,{variant:"primary",onclick:()=>ge("/knowledge"),children:(_,m)=>{k();var u=I("Browse Knowledge Base");s(_,u)},$$slots:{default:!0}}),e(l),s(z,l)},$$slots:{default:!0}})};j(A,v=>{n.content.currentNode?v(M):v(W,!1)})}e(g),s(c,g)},b=c=>{var g=de(),A=V(g);{var M=W=>{var v=ft(),z=a(t(v),2);U(z,{variant:"elevated",padding:"lg",children:(d,l)=>{var f=pt(),_=a(V(f),2),m=t(_),u=a(t(m),2),N=t(u,!0);e(u),e(m);var T=a(m,2),S=a(t(T),2),ne=t(S,!0);e(S),e(T);var ee=a(T,2),se=a(t(ee),2),ue=t(se);e(se),e(ee);var me=a(ee,2),ie=a(t(me),2),pe=t(ie);e(ie),e(me),e(_),D(($e,ye,oe,Ce)=>{h(N,$e),h(ne,ye),h(ue,`${oe??""}%`),h(pe,`${Ce??""} days`)},[()=>r(w)().totalModules,()=>r(w)().completedModules,()=>r(w)().averageScore.toFixed(1),()=>r(w)().currentStreak]),s(d,f)},$$slots:{default:!0}}),e(v),s(W,v)};j(A,W=>{n.ui.currentView==="progress"&&W(M)},!0)}s(c,g)};j(i,c=>{n.ui.currentView==="content"?c(o):c(b,!1)},!0)}s(P,R)};j(L,P=>{n.ui.currentView==="dashboard"?P(J):P(O,!1)})}s(q,y)},$$slots:{default:!0}})},$$slots:{default:!0}});var G=a(K,2);be(G,{children:(B,ae)=>{var q=de(),Q=V(q);Le(Q,()=>ce.children??Re),s(B,q)},$$slots:{default:!0}}),s(Z,E)},$$slots:{header:!0,sidebar:!0,default:!0}})},$$slots:{default:!0}});var ke=a(Se,2);qe(ke,{position:"top-right"});var je=a(ke,2);j(je,Y=>{}),s(we,Pe),Me()}export{Tt as component};
