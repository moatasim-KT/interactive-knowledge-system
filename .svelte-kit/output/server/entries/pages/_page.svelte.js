import{k as Q,l as R,p as k,d as I,a as r,b as h,e as y,m as w,c as z}from"../../chunks/vendor.js";import{b as p}from"../../chunks/components-knowledge.js";/* empty css                                                              */import"@sveltejs/kit/internal";import"clsx";import"../../chunks/components-interactive.js";import"../../chunks/utils.js";import"../../chunks/services.js";import{I as B,C as F,B as m,a as A}from"../../chunks/components-ui.js";import{getContentStats as J,getFilteredSources as K,webContentActions as l,webContentState as c}from"../../chunks/webContentState.svelte.js";import{W as V,a as H,b as M}from"../../chunks/WebContentTransformer.js";import"idb";import{E as U}from"../../chunks/ErrorBoundary.js";function j(a,T){I();let u="sources",d=null,g=null,C=K,f=J;function D(s){d=s;const t=c.sources.items[s];t&&l.setCurrentSource(t)}function x(s){const t=typeof s=="string"?new Date(s):s;return t.toLocaleDateString()+" "+t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}function N(s){switch(s){case"active":return"success";case"updated":return"warning";case"error":return"error";case"removed":return"secondary";default:return"secondary"}}function O(s){return`https://www.google.com/s2/favicons?domain=${s}&sz=32`}function W(s){confirm("Are you sure you want to delete this source?")&&(l.removeSource(s),d===s&&(d=null,g=null))}async function E(s){const t=c.sources.items[s];if(t){l.setSourcesLoading(!0);try{l.updateSource(s,{lastChecked:new Date,status:"active"}),l.addNotification({type:"success",message:`Refreshed source: ${t.title}`})}catch(o){l.addNotification({type:"error",message:`Failed to refresh source: ${o instanceof Error?o.message:"Unknown error"}`})}finally{l.setSourcesLoading(!1)}}}let b=!0,S;function L(s){s.out.push(`<div class="web-content-dashboard svelte-1wx1rut"><div class="dashboard-header svelte-1wx1rut"><h1 class="svelte-1wx1rut">Web Content Sourcing</h1> <div class="stats-overview svelte-1wx1rut"><div class="stat-item svelte-1wx1rut"><span class="stat-value svelte-1wx1rut">${r(f().totalSources)}</span> <span class="stat-label svelte-1wx1rut">Sources</span></div> <div class="stat-item svelte-1wx1rut"><span class="stat-value svelte-1wx1rut">${r(f().totalContent)}</span> <span class="stat-label svelte-1wx1rut">Content Items</span></div> <div class="stat-item svelte-1wx1rut"><span class="stat-value svelte-1wx1rut">${r(f().transformationOpportunities)}</span> <span class="stat-label svelte-1wx1rut">Opportunities</span></div> <div class="stat-item svelte-1wx1rut"><span class="stat-value svelte-1wx1rut">${r(f().activeJobs)}</span> <span class="stat-label svelte-1wx1rut">Active Jobs</span></div></div></div> <div class="dashboard-tabs svelte-1wx1rut"><button${h("tab-button svelte-1wx1rut",void 0,{active:u==="import"})}>üì• Import</button> <button${h("tab-button svelte-1wx1rut",void 0,{active:u==="sources"})}>üìö Sources</button> <button${h("tab-button svelte-1wx1rut",void 0,{active:u==="analyze"})}>üîç Analyze</button> <button${h("tab-button svelte-1wx1rut",void 0,{active:u==="transform"})}>‚ú® Transform</button></div> <div class="dashboard-content svelte-1wx1rut">`),U(s,{context:{},children:t=>{if(u==="import")t.out.push("<!--[-->"),V(t,{});else{if(t.out.push("<!--[!-->"),u==="sources"){t.out.push("<!--[-->");const o=y(C());t.out.push('<div class="sources-section svelte-1wx1rut"><div class="sources-header svelte-1wx1rut"><h2 class="svelte-1wx1rut">Content Sources</h2> <div class="sources-controls svelte-1wx1rut">'),B(t,{placeholder:"Search sources...",onchange:()=>l.setSearchQuery(c.ui.searchQuery),get value(){return c.ui.searchQuery},set value(n){c.ui.searchQuery=n,b=!1}}),t.out.push('<!----> <select class="svelte-1wx1rut">'),t.select_value=c.ui.filters.status,t.out.push(`<option value="all"${w(t,"all")}>All Status</option><option value="active"${w(t,"active")}>Active</option><option value="updated"${w(t,"updated")}>Updated</option><option value="error"${w(t,"error")}>Error</option>`),t.select_value=void 0,t.out.push('</select></div></div> <div class="sources-grid svelte-1wx1rut"><!--[-->');for(let n=0,_=o.length;n<_;n++){let e=o[n];F(t,{class:`source-card ${d===e.id?"selected":""}`,children:i=>{i.out.push(`<div class="source-header svelte-1wx1rut"><div class="source-info svelte-1wx1rut"><img${z("src",O(e.domain))}${z("alt",e.domain)} class="domain-favicon svelte-1wx1rut" onerror="this.__e=event"/> <div><h3 class="source-title svelte-1wx1rut">${r(e.title)}</h3> <p class="source-url svelte-1wx1rut">${r(e.url)}</p></div></div> <div class="source-actions svelte-1wx1rut">`),m(i,{onclick:()=>E(e.id),variant:"outline",size:"sm",children:v=>{v.out.push("<!---->üîÑ")},$$slots:{default:!0}}),i.out.push("<!----> "),m(i,{onclick:()=>W(e.id),variant:"outline",size:"sm",children:v=>{v.out.push("<!---->üóëÔ∏è")},$$slots:{default:!0}}),i.out.push('<!----></div></div> <div class="source-meta svelte-1wx1rut">'),A(i,{variant:N(e.status),children:v=>{v.out.push(`<!---->${r(e.status)}`)},$$slots:{default:!0}}),i.out.push(`<!----> <span class="source-domain svelte-1wx1rut">${r(e.domain)}</span> <span class="source-category svelte-1wx1rut">${r(e.metadata.category)}</span></div> <div class="source-stats svelte-1wx1rut"><div class="stat svelte-1wx1rut"><span class="stat-label svelte-1wx1rut">Imported:</span> <span class="stat-value svelte-1wx1rut">${r(x(e.importDate))}</span></div> <div class="stat svelte-1wx1rut"><span class="stat-label svelte-1wx1rut">Last Checked:</span> <span class="stat-value svelte-1wx1rut">${r(x(e.lastChecked))}</span></div> `),e.usage.timesReferenced>0?(i.out.push("<!--[-->"),i.out.push(`<div class="stat svelte-1wx1rut"><span class="stat-label svelte-1wx1rut">References:</span> <span class="stat-value svelte-1wx1rut">${r(e.usage.timesReferenced)}</span></div>`)):i.out.push("<!--[!-->"),i.out.push('<!--]--></div> <div class="source-actions-bottom svelte-1wx1rut">'),m(i,{onclick:()=>D(e.id),variant:d===e.id?"primary":"outline",size:"sm",children:v=>{v.out.push(`<!---->${r(d===e.id?"Selected":"Select")}`)},$$slots:{default:!0}}),i.out.push("<!----></div>")},$$slots:{default:!0}})}t.out.push("<!--]--></div> "),C().length===0?(t.out.push("<!--[-->"),t.out.push('<div class="empty-state svelte-1wx1rut"><span class="empty-icon svelte-1wx1rut">üìö</span> <h3 class="svelte-1wx1rut">No Sources Found</h3> <p class="svelte-1wx1rut">Import some web content to get started, or adjust your search filters.</p> '),m(t,{onclick:()=>u="import",variant:"primary",children:n=>{n.out.push("<!---->Import Content")},$$slots:{default:!0}}),t.out.push("<!----></div>")):t.out.push("<!--[!-->"),t.out.push("<!--]--></div>")}else{if(t.out.push("<!--[!-->"),u==="analyze")t.out.push("<!--[-->"),H(t,{contentId:g,autoAnalyze:!0});else{if(t.out.push("<!--[!-->"),u==="transform"){if(t.out.push("<!--[-->"),t.out.push('<div class="transform-section svelte-1wx1rut"><div class="transform-header svelte-1wx1rut"><h2 class="svelte-1wx1rut">Content Transformation</h2> <p class="svelte-1wx1rut">Transform static content into interactive learning experiences</p></div> <div class="transformer-panel svelte-1wx1rut">'),M(t,{contentId:g}),t.out.push("<!----></div> "),c.transformation.transformationHistory.length>0){t.out.push("<!--[-->");const o=y(c.transformation.transformationHistory.slice(-5));t.out.push('<div class="transformation-history svelte-1wx1rut"><h3 class="svelte-1wx1rut">Recent Transformations</h3> <div class="history-list svelte-1wx1rut"><!--[-->');for(let n=0,_=o.length;n<_;n++){let e=o[n];t.out.push(`<div class="history-item svelte-1wx1rut"><div class="history-info svelte-1wx1rut"><h4 class="svelte-1wx1rut">${r(e.title)}</h4> <p class="svelte-1wx1rut">Type: ${r(e.type)}</p> <span class="history-date svelte-1wx1rut">${r(x(e.timestamp))}</span></div> `),A(t,{variant:"success",children:i=>{i.out.push("<!---->Completed")},$$slots:{default:!0}}),t.out.push("<!----></div>")}t.out.push("<!--]--></div></div>")}else t.out.push("<!--[!-->"),t.out.push('<div class="empty-state svelte-1wx1rut"><span class="empty-icon svelte-1wx1rut">‚ú®</span> <h3 class="svelte-1wx1rut">No Transformations Yet</h3> <p class="svelte-1wx1rut">Analyze your content first to discover transformation opportunities.</p> '),m(t,{onclick:()=>u="analyze",variant:"primary",children:o=>{o.out.push("<!---->Analyze Content")},$$slots:{default:!0}}),t.out.push("<!----></div>");t.out.push("<!--]--></div>")}else t.out.push("<!--[!-->");t.out.push("<!--]-->")}t.out.push("<!--]-->")}t.out.push("<!--]-->")}t.out.push("<!--]-->")}}),s.out.push("<!----></div></div>")}do b=!0,S=Q(a),L(S);while(!b);R(a,S),k()}function nt(a,T){I();let u="demo";a.out.push(`<div class="app-container svelte-1yi0ug9"><nav class="nav-bar svelte-1yi0ug9"><h1 class="svelte-1yi0ug9">Interactive Knowledge System</h1> <div class="nav-buttons svelte-1yi0ug9"><a class="nav-btn svelte-1yi0ug9" href="/articles/machine-learning">üß† ML Article</a> <button${h("nav-btn svelte-1yi0ug9",void 0,{active:u==="demo"})}>üìä Demo</button> <button${h("nav-btn svelte-1yi0ug9",void 0,{active:u==="editor"})}>‚úèÔ∏è Content Editor</button></div></nav> <main class="main-content svelte-1yi0ug9">`),a.out.push("<!--[-->"),a.out.push(`<div class="welcome svelte-1yi0ug9"><h2>Welcome to the Interactive Knowledge System</h2> <p>This demonstrates the core foundation with Svelte 5 runes-based reactive state management
					and the new Content Editor component.</p> <div class="demo-actions svelte-1yi0ug9"><h3>Demo Actions</h3> <button class="svelte-1yi0ug9">Add Sample Content</button> <button class="svelte-1yi0ug9">Toggle Online/Offline Mode</button> <button class="svelte-1yi0ug9">Show Test Notification</button></div> <div class="features svelte-1yi0ug9"><h3>Implemented Features</h3> <ul class="svelte-1yi0ug9"><li class="svelte-1yi0ug9">‚úÖ TypeScript interfaces for all core data models</li> <li class="svelte-1yi0ug9">‚úÖ Svelte 5 runes-based reactive state management</li> <li class="svelte-1yi0ug9">‚úÖ Global application state with derived values</li> <li class="svelte-1yi0ug9">‚úÖ Side effects using $effect rune</li> <li class="svelte-1yi0ug9">‚úÖ Auto-save functionality with debouncing</li> <li class="svelte-1yi0ug9">‚úÖ Online/offline status monitoring</li> <li class="svelte-1yi0ug9">‚úÖ Notification system</li> <li class="svelte-1yi0ug9">‚úÖ Content Editor with rich text editing</li> <li class="svelte-1yi0ug9">‚úÖ Content block system (text, image, video, code, quiz, flashcard)</li> <li class="svelte-1yi0ug9">‚úÖ Drag-and-drop functionality for reordering blocks</li> <li class="svelte-1yi0ug9">‚úÖ Keyboard shortcuts (Ctrl+S to save, Ctrl+Z to undo)</li></ul></div> <div class="dashboard-embed"><h3>Web Content Sourcing</h3> `),j(a),a.out.push(`<!----></div> <div class="state-debug svelte-1yi0ug9"><h3>Current State (Debug)</h3> <details><summary>View Raw State</summary> <pre class="svelte-1yi0ug9">${r(JSON.stringify({contentNodes:p.content.nodes.size,currentView:p.ui.currentView,isOnline:p.sync.isOnline,notifications:p.ui.notifications.length,searchQuery:p.content.searchQuery},null,2))}</pre></details></div></div>`),a.out.push("<!--]--></main></div>"),k()}export{nt as default};
