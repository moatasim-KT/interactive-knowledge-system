let idCounter=0;function generateId(m="a11y"){return`${m}-${++idCounter}`}function announceToScreenReader(m,e="polite"){const t=document.createElement("div");t.setAttribute("aria-live",e),t.setAttribute("aria-atomic","true"),t.className="sr-only",t.textContent=m,document.body.appendChild(t),setTimeout(()=>{document.body.removeChild(t)},1e3)}class AccessibilityPreferences{preferences=new Map;listeners=new Map;constructor(){this.loadPreferences(),this.setupMediaQueryListeners()}loadPreferences(){if(!(typeof window>"u"||typeof localStorage>"u"))try{const e=localStorage.getItem("accessibility-preferences");if(e){const t=JSON.parse(e);Object.entries(t).forEach(([n,r])=>{this.preferences.set(n,r)})}}catch(e){console.warn("Failed to load accessibility preferences:",e)}}savePreferences(){if(!(typeof window>"u"||typeof localStorage>"u"))try{const e=Object.fromEntries(this.preferences);localStorage.setItem("accessibility-preferences",JSON.stringify(e))}catch(e){console.warn("Failed to save accessibility preferences:",e)}}setupMediaQueryListeners(){if(typeof window>"u"||typeof window.matchMedia!="function")return;const e=window.matchMedia("(prefers-reduced-motion: reduce)"),t=window.matchMedia("(prefers-contrast: high)"),n=window.matchMedia("(prefers-color-scheme: dark)"),r=(s,i)=>{typeof s.addEventListener=="function"?s.addEventListener("change",i):typeof s.addListener=="function"&&s.addListener(i)};r(e,s=>{this.set("reducedMotion",s.matches)}),r(t,s=>{this.set("highContrast",s.matches)}),r(n,s=>{this.set("darkMode",s.matches)}),this.set("reducedMotion",e.matches),this.set("highContrast",t.matches),this.set("darkMode",n.matches)}get(e,t){return this.preferences.get(e)??t}set(e,t){this.preferences.set(e,t),this.savePreferences(),this.notifyListeners(e,t)}subscribe(e,t){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(t),t(this.get(e)),()=>{this.listeners.get(e)?.delete(t)}}notifyListeners(e,t){this.listeners.get(e)?.forEach(n=>n(t))}}const accessibilityPreferences=new AccessibilityPreferences;class SearchEngine{searchIndex={content:new Map,tags:new Map,links:new Map};stopWords=new Set(["a","an","and","are","as","at","be","by","for","from","has","he","in","is","it","its","of","on","that","the","to","was","will","with","the","this","but","they","have","had","what","said","each","which","she","do","how","their","if","up","out","many","then","them","these","so","some","her","would","make","like","into","him","time","two","more","go","no","way","could","my","than","first","been","call","who","oil","sit","now","find","down","day","did","get","come","made","may","part"]);tokenize(e){return e.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(t=>t.length>2&&!this.stopWords.has(t)).map(t=>t.trim()).filter(t=>t.length>0)}extractContentText(e){return e.map(t=>{switch(t.type){case"text":return typeof t.content=="string"?t.content:"";case"code":return t.content?.code||"";case"quiz":return t.content?.questions?.map(n=>n.question).join(" ")||"";case"flashcard":return`${t.content?.front||""} ${t.content?.back||""}`;default:return""}}).join(" ")}indexModule(e){const t=[e.title,e.description,this.extractContentText(e.blocks)].join(" "),n=this.tokenize(t);this.searchIndex.content.set(e.id,n);for(const s of e.metadata.tags)this.searchIndex.tags.has(s)||this.searchIndex.tags.set(s,[]),this.searchIndex.tags.get(s).push(e.id);const r=[...e.relationships.prerequisites,...e.relationships.dependents,...e.relationships.related];this.searchIndex.links.set(e.id,r)}indexNode(e){const t=[e.title].join(" "),n=this.tokenize(t);this.searchIndex.content.set(e.id,n);for(const r of e.metadata.tags)this.searchIndex.tags.has(r)||this.searchIndex.tags.set(r,[]),this.searchIndex.tags.get(r).push(e.id)}removeFromIndex(e){this.searchIndex.content.delete(e),this.searchIndex.links.delete(e);for(const[t,n]of this.searchIndex.tags.entries()){const r=n.indexOf(e);r>-1&&(n.splice(r,1),n.length===0&&this.searchIndex.tags.delete(t))}}calculateRelevance(e,t,n,r,s){let i=0,u=!1;for(const o of t){const c=n.filter(h=>o.length>=3&&h.length>o.length&&h.includes(o)).length;c>0&&(i+=c*5,u=!0),n.includes(o)&&(i+=20,u=!0)}const l=r?.title||s?.title||"",a=this.tokenize(l);for(const o of t)a.includes(o)?(i+=50,u=!0):o.length>=3&&a.some(c=>c.length>o.length&&c.includes(o))&&(i+=25,u=!0);const d=r?.metadata.tags||s?.metadata.tags||[];for(const o of d){const c=this.tokenize(o);for(const h of t)c.includes(h)?(i+=30,u=!0):h.length>=3&&c.some(g=>g.length>h.length&&g.includes(h))&&(i+=15,u=!0)}return u&&r&&(i+=Math.log(r.analytics.views+1)*2,i+=Math.log(r.analytics.completions+1)*3,i+=r.analytics.averageScore*.5),i}applyFilters(e,t,n,r){return e.filter(s=>{const i=n.get(s.id),u=r.get(s.id);if(t.contentTypes&&t.contentTypes.length>0&&!t.contentTypes.includes(s.type))return!1;if(t.tags&&t.tags.length>0){const l=i?.metadata.tags||u?.metadata.tags||[];if(!t.tags.some(a=>l.includes(a)))return!1}if(t.difficulty&&t.difficulty.length>0){const l=i?.metadata.difficulty||u?.metadata.difficulty;if(l&&!t.difficulty.includes(l))return!1}if(t.dateRange&&i){const l=i.metadata.created;if(l<t.dateRange.start||l>t.dateRange.end)return!1}return!(t.author&&i&&i.metadata.author!==t.author||t.minRelevance&&s.relevance<t.minRelevance)})}generateSnippet(e,t,n=150){const r=t.split(/[.!?]+/).filter(u=>u.trim().length>0);let s="",i=0;for(const u of r){const l=this.tokenize(u),a=e.filter(d=>l.some(o=>o.includes(d))).length;a>i&&(i=a,s=u.trim())}return s.length>n&&(s=s.substring(0,n-3)+"..."),s||t.substring(0,n-3)+"..."}search(e,t,n,r={},s=50){if(!e.trim())return[];const i=this.tokenize(e),u=[];for(const[a,d]of this.searchIndex.content.entries()){const o=t.get(a),c=n.get(a);if(!o&&!c)continue;const h=this.calculateRelevance(a,i,d,o,c);if(h>10){const g=o?.title||c?.title||"",f=o?`${o.description} ${this.extractContentText(o.blocks)}`:g,p=this.generateSnippet(i,f),y=o?.metadata.tags||c?.metadata.tags||[],w=o?"module":c?.type||"unknown";u.push({id:a,title:g,snippet:p,relevance:h,type:w,tags:y})}}return u.sort((a,d)=>d.relevance-a.relevance),this.applyFilters(u,r,t,n).slice(0,s)}searchByTags(e,t,n){const r=[],s=new Set;for(const i of e){const u=this.searchIndex.tags.get(i)||[];for(const l of u){if(s.has(l))continue;s.add(l);const a=t.get(l),d=n.get(l);if(a||d){const o=a?.title||d?.title||"",c=a?`${a.description} ${this.extractContentText(a.blocks)}`:o,h=this.generateSnippet([i],c),g=a?.metadata.tags||d?.metadata.tags||[],f=a?"module":d?.type||"unknown";r.push({id:l,title:o,snippet:h,relevance:100,type:f,tags:g})}}}return r.sort((i,u)=>u.relevance-i.relevance)}getRelatedContent(e,t,n,r=10){const s=[],i=t.get(e),u=n.get(e);if(!i&&!u)return s;const l=this.searchIndex.links.get(e)||[];for(const d of l){const o=t.get(d),c=n.get(d);if(o||c){const h=o?.title||c?.title||"",g=o?`${o.description} ${this.extractContentText(o.blocks)}`:h,f=this.generateSnippet([],g),p=o?.metadata.tags||c?.metadata.tags||[],y=o?"module":c?.type||"unknown";s.push({id:d,title:h,snippet:f,relevance:90,type:y,tags:p})}}const a=i?.metadata.tags||u?.metadata.tags||[];for(const d of a){const o=this.searchIndex.tags.get(d)||[];for(const c of o){if(c===e||s.some(f=>f.id===c))continue;const h=t.get(c),g=n.get(c);if(h||g){const f=h?.title||g?.title||"",p=h?`${h.description} ${this.extractContentText(h.blocks)}`:f,y=this.generateSnippet([],p),w=h?.metadata.tags||g?.metadata.tags||[],v=h?"module":g?.type||"unknown";s.push({id:c,title:f,snippet:y,relevance:70,type:v,tags:w})}}}return s.sort((d,o)=>o.relevance-d.relevance).slice(0,r)}getSuggestions(e,t=5){if(e.length<2)return[];const n=new Set,r=e.toLowerCase();for(const s of this.searchIndex.content.values()){for(const i of s)if(i.startsWith(r)&&i.length>r.length&&(n.add(i),n.size>=t))break;if(n.size>=t)break}for(const s of this.searchIndex.tags.keys())if(s.toLowerCase().includes(r)&&(n.add(s),n.size>=t))break;return Array.from(n).slice(0,t)}clearIndex(){this.searchIndex.content.clear(),this.searchIndex.tags.clear(),this.searchIndex.links.clear()}getIndexStats(){return{totalContent:this.searchIndex.content.size,totalTags:this.searchIndex.tags.size,totalLinks:this.searchIndex.links.size,averageTokensPerContent:this.searchIndex.content.size>0?Array.from(this.searchIndex.content.values()).reduce((e,t)=>e+t.length,0)/this.searchIndex.content.size:0}}}const searchEngine=new SearchEngine;class CodeExecutionService{static instance;executionEnvironments=new Map;constructor(){this.initializeEnvironments()}static getInstance(){return CodeExecutionService.instance||(CodeExecutionService.instance=new CodeExecutionService),CodeExecutionService.instance}initializeEnvironments(){this.executionEnvironments.set("javascript",{language:"javascript",timeout:5e3,memoryLimit:50*1024*1024,allowNetworkAccess:!1,allowFileSystem:!1}),this.executionEnvironments.set("python",{language:"python",timeout:1e4,memoryLimit:100*1024*1024,allowNetworkAccess:!1,allowFileSystem:!1}),this.executionEnvironments.set("html",{language:"html",timeout:3e3,memoryLimit:25*1024*1024,allowNetworkAccess:!1,allowFileSystem:!1})}async executeCode(m,e,t){const n=performance.now(),r=this.executionEnvironments.get(e);if(!r)return{success:!1,error:`Execution not supported for language: ${e}`,executionTime:0,timestamp:new Date};const s={...r,...t};try{let i;switch(e){case"javascript":i=await this.executeJavaScript(m,s);break;case"python":i=await this.executePython(m,s);break;case"html":i=await this.executeHTML(m,s);break;default:i={success:!1,error:`Execution not implemented for language: ${e}`,executionTime:0,timestamp:new Date}}return i.executionTime=performance.now()-n,i}catch(i){return{success:!1,error:i instanceof Error?i.message:"Unknown execution error",executionTime:performance.now()-n,timestamp:new Date}}}async executeJavaScript(m,e){return new Promise(t=>{const n=setTimeout(()=>{t({success:!1,error:"Execution timeout exceeded",executionTime:e.timeout,timestamp:new Date})},e.timeout);try{const r=console,s=[],u={console:{log:(...d)=>s.push(d.map(o=>String(o)).join(" ")),error:(...d)=>s.push("ERROR: "+d.map(o=>String(o)).join(" ")),warn:(...d)=>s.push("WARN: "+d.map(o=>String(o)).join(" ")),info:(...d)=>s.push("INFO: "+d.map(o=>String(o)).join(" "))},Math,Date,JSON,Array,Object,String,Number,Boolean,RegExp,setTimeout:(d,o)=>(o>1e3&&(o=1e3),setTimeout(d,o)),clearTimeout},a=new Function(...Object.keys(u),`
					"use strict";
					try {
						${m}
					} catch (error) {
						console.error(error.message);
						throw error;
					}
					`)(...Object.values(u));clearTimeout(n),t({success:!0,output:s.length>0?s.join(`
`):a!==void 0?String(a):"",executionTime:0,timestamp:new Date})}catch(r){clearTimeout(n),t({success:!1,error:r instanceof Error?r.message:"JavaScript execution error",executionTime:0,timestamp:new Date})}})}async executePython(code,environment){return new Promise(resolve=>{setTimeout(()=>{if(code.includes("print(")){const print_matches=code.match(/print\((.*?)\)/g),output=print_matches?.map(match=>{const content=match.replace(/print\((.*?)\)/,"$1");try{return eval(content.replace(/'/g,'"'))}catch{return content.replace(/['"]/g,"")}}).join(`
`)||"";resolve({success:!0,output,executionTime:0,timestamp:new Date})}else resolve({success:!0,output:"Python code executed (simulation)",executionTime:0,timestamp:new Date})},100)})}async executeHTML(m,e){try{const t=document.createElement("iframe");return t.style.display="none",t.setAttribute("sandbox","allow-scripts"),document.body.appendChild(t),new Promise(n=>{const r=setTimeout(()=>{document.body.removeChild(t),n({success:!1,error:"HTML execution timeout",executionTime:e.timeout,timestamp:new Date})},e.timeout);t.onload=()=>{try{t.contentDocument&&(t.contentDocument.open(),t.contentDocument.write(m),t.contentDocument.close()),clearTimeout(r),setTimeout(()=>{document.body.removeChild(t),n({success:!0,output:"HTML rendered successfully",executionTime:0,timestamp:new Date})},500)}catch(s){clearTimeout(r),document.body.removeChild(t),n({success:!1,error:s instanceof Error?s.message:"HTML execution error",executionTime:0,timestamp:new Date})}},t.src="about:blank"})}catch(t){return{success:!1,error:t instanceof Error?t.message:"HTML execution setup error",executionTime:0,timestamp:new Date}}}isLanguageExecutable(m){return this.executionEnvironments.get(m)!==void 0}getSupportedLanguages(){return Array.from(this.executionEnvironments.keys())}}CodeExecutionService.getInstance();const is_development=typeof process<"u"&&process.env?.NODE_ENV!=="production";function createLogger(m){const e=`[${m}]`;return{debug:(...t)=>{is_development&&console.debug(e,...t)},info:(...t)=>{console.info(e,...t)},warn:(...t)=>{console.warn(e,...t)},error:(...t)=>{console.error(e,...t)}}}class ErrorHandler{static instance;logger=createLogger("error-handler");toastQueue=[];errorListeners=[];constructor(){}static getInstance(){return ErrorHandler.instance||(ErrorHandler.instance=new ErrorHandler),ErrorHandler.instance}async handleAsync(e,t,n={}){const{showToast:r=!0,logError:s=!0,retryable:i=!1,maxRetries:u=3,retryDelay:l=1e3,onError:a,onRetry:d}=n;let o,c=0;for(;c<=(i?u:0);)try{return{success:!0,data:await e(),retryCount:c}}catch(h){if(o=h instanceof Error?h:new Error(String(h)),s&&this.logger.error(`Operation failed: ${t.operation}`,{error:o,context:t,attempt:c+1}),a&&a(o,t),this.notifyErrorListeners(o,t),i&&c<u&&this.isRetryableError(o)){c++,d&&d(c,o),await this.delay(l*c);continue}break}return r&&this.showErrorToast(o,t),{success:!1,error:o,retryCount:c}}handleSync(e,t,n={}){const{showToast:r=!0,logError:s=!0,fallbackValue:i,onError:u}=n;try{return{success:!0,data:e()}}catch(l){const a=l instanceof Error?l:new Error(String(l));return s&&this.logger.error(`Sync operation failed: ${t.operation}`,{error:a,context:t}),u&&u(a,t),this.notifyErrorListeners(a,t),r&&this.showErrorToast(a,t),{success:!1,error:a,data:i}}}createAsyncWrapper(e,t,n={}){return async(...r)=>(await this.handleAsync(()=>e(...r),t,n)).data}createSyncWrapper(e,t,n={}){return(...r)=>this.handleSync(()=>e(...r),t,n).data}addErrorListener(e){this.errorListeners.push(e)}removeErrorListener(e){const t=this.errorListeners.indexOf(e);t>-1&&this.errorListeners.splice(t,1)}getUserFriendlyMessage(e,t){if(this.isNetworkError(e))return"Unable to connect to the server. Please check your internet connection and try again.";if(this.isValidationError(e))return e.message||"Please check your input and try again.";if(this.isPermissionError(e))return"You do not have permission to perform this action.";if(this.isTimeoutError(e))return"The operation took too long to complete. Please try again.";if(this.isStorageError(e))return"Unable to save data. Please check your storage space and try again.";switch(t.operation){case"save":case"create":return"Failed to save. Please try again.";case"load":case"fetch":return"Failed to load data. Please refresh and try again.";case"delete":return"Failed to delete. Please try again.";case"update":return"Failed to update. Please try again.";default:return"An unexpected error occurred. Please try again."}}isRetryableError(e){return this.isNetworkError(e)||this.isTimeoutError(e)||e.message.toLowerCase().includes("rate limit")||e.message.toLowerCase().includes("server error")||e.message.includes("503")||e.message.includes("502")||e.message.toLowerCase().includes("network error")}isNetworkError(e){return e.message.includes("fetch")||e.message.includes("network")||e.message.includes("connection")||e.message.includes("offline")||e.name==="NetworkError"}isValidationError(e){return e.message.includes("validation")||e.message.includes("invalid")||e.message.includes("required")||e.name==="ValidationError"}isPermissionError(e){return e.message.includes("permission")||e.message.includes("unauthorized")||e.message.includes("forbidden")||e.message.includes("401")||e.message.includes("403")}isTimeoutError(e){return e.message.includes("timeout")||e.message.includes("aborted")||e.name==="TimeoutError"||e.name==="AbortError"}isStorageError(e){return e.message.includes("storage")||e.message.includes("quota")||e.message.includes("IndexedDB")||e.name==="QuotaExceededError"}showErrorToast(e,t){const n=this.getUserFriendlyMessage(e,t),r={id:`error_${Date.now()}`,type:"error",title:"Error",message:n,duration:5e3,timestamp:new Date,actions:this.getErrorActions(e,t)};this.toastQueue.push(r),typeof window<"u"&&window.dispatchEvent(new CustomEvent("show-toast",{detail:r}))}getErrorActions(e,t){const n=[];return this.isRetryableError(e)&&n.push({label:"Retry",action:()=>{typeof window<"u"&&window.dispatchEvent(new CustomEvent("error-retry",{detail:{error:e,context:t}}))}}),this.isNetworkError(e)&&n.push({label:"Refresh",action:()=>window.location.reload()}),n}notifyErrorListeners(e,t){this.errorListeners.forEach(n=>{try{n(e,t)}catch(r){this.logger.error("Error listener failed:",r)}})}delay(e){return new Promise(t=>setTimeout(t,e))}getToastQueue(){return[...this.toastQueue]}clearToastQueue(){this.toastQueue.length=0}}const errorHandler=ErrorHandler.getInstance();errorHandler.handleAsync.bind(errorHandler);errorHandler.handleSync.bind(errorHandler);errorHandler.createAsyncWrapper.bind(errorHandler);errorHandler.createSyncWrapper.bind(errorHandler);class PerformanceMonitor{entries=[];observers=[];startTime=Date.now();constructor(){this.initializeObservers()}initializeObservers(){if(!(typeof window>"u")&&"PerformanceObserver"in window){try{const e=new PerformanceObserver(t=>{t.getEntries().forEach(r=>{r.entryType==="navigation"&&this.recordNavigationMetrics(r)})});e.observe({entryTypes:["navigation"]}),this.observers.push(e)}catch(e){console.warn("Navigation timing observer not supported:",e)}try{const e=new PerformanceObserver(t=>{t.getEntries().forEach(r=>{r.entryType==="paint"&&this.recordPaintMetrics(r)})});e.observe({entryTypes:["paint"]}),this.observers.push(e)}catch(e){console.warn("Paint timing observer not supported:",e)}try{const e=new PerformanceObserver(t=>{const n=t.getEntries(),r=n[n.length-1];r&&this.recordLCPMetrics(r)});e.observe({entryTypes:["largest-contentful-paint"]}),this.observers.push(e)}catch(e){console.warn("LCP observer not supported:",e)}try{const e=new PerformanceObserver(t=>{t.getEntries().forEach(r=>{this.recordLayoutShiftMetrics(r)})});e.observe({entryTypes:["layout-shift"]}),this.observers.push(e)}catch(e){console.warn("Layout shift observer not supported:",e)}try{const e=new PerformanceObserver(t=>{t.getEntries().forEach(r=>{this.recordFirstInputDelay(r)})});e.observe({entryTypes:["first-input"]}),this.observers.push(e)}catch(e){console.warn("First input delay observer not supported:",e)}}}recordNavigationMetrics(e){const t={pageLoad:{domContentLoaded:e.domContentLoadedEventEnd-e.fetchStart,loadComplete:e.loadEventEnd-e.fetchStart}};this.updateCurrentMetrics(t)}recordPaintMetrics(e){const t={};e.name==="first-contentful-paint"&&(t.pageLoad={...this.getCurrentMetrics()?.pageLoad,firstContentfulPaint:e.startTime}),this.updateCurrentMetrics(t)}recordLCPMetrics(e){const t={pageLoad:{...this.getCurrentMetrics()?.pageLoad,largestContentfulPaint:e.startTime}};this.updateCurrentMetrics(t)}recordLayoutShiftMetrics(e){if(!e.hadRecentInput){const t=this.getCurrentMetrics(),n=t?.userExperience?.cumulativeLayoutShift||0,r={userExperience:{...t?.userExperience,cumulativeLayoutShift:n+e.value}};this.updateCurrentMetrics(r)}}recordFirstInputDelay(e){const t={userExperience:{...this.getCurrentMetrics()?.userExperience,firstInputDelay:e.processingStart-e.startTime}};this.updateCurrentMetrics(t)}measureRenderTime(e,t){const n=performance.now();t();const s=performance.now()-n;return console.debug(`Component ${e} render time: ${s.toFixed(2)}ms`),s}async measureAsyncOperation(e,t){const n=performance.now(),r=await t(),i=performance.now()-n;return console.debug(`Operation ${e} completed in: ${i.toFixed(2)}ms`),{result:r,duration:i}}getMemoryUsage(){if(typeof window<"u"&&"memory"in performance)return performance.memory.usedJSHeapSize}getConnectionInfo(){if(typeof navigator<"u"&&"connection"in navigator){const e=navigator.connection;return e.effectiveType||e.type}}recordEntry(e,t){const n=this.getCurrentMetrics(),r=this.getMemoryUsage(),s=this.getConnectionInfo(),i={timestamp:Date.now(),page:e,metrics:{pageLoad:n?.pageLoad||{domContentLoaded:0,loadComplete:0},bundle:n?.bundle||{totalSize:0,chunkCount:0,loadTime:0},runtime:{memoryUsage:r,renderTime:n?.runtime?.renderTime||0,interactionTime:n?.runtime?.interactionTime||0},userExperience:n?.userExperience||{},...t},userAgent:navigator.userAgent,connectionType:s};this.entries.push(i),this.logPerformanceEntry(i)}getCurrentMetrics(){return this.entries[this.entries.length-1]?.metrics}updateCurrentMetrics(e){this.entries.length===0&&this.recordEntry(window.location.pathname);const t=this.entries[this.entries.length-1];t.metrics={...t.metrics,...e,pageLoad:{...t.metrics.pageLoad,...e.pageLoad},runtime:{...t.metrics.runtime,...e.runtime},userExperience:{...t.metrics.userExperience,...e.userExperience}}}logPerformanceEntry(e){console.group(`Performance Metrics - ${e.page}`),console.log("Timestamp:",new Date(e.timestamp).toISOString()),console.log("Page Load:",e.metrics.pageLoad),console.log("Runtime:",e.metrics.runtime),console.log("User Experience:",e.metrics.userExperience),e.connectionType&&console.log("Connection:",e.connectionType),console.groupEnd()}getEntries(){return[...this.entries]}getSummary(){if(this.entries.length===0)return{totalEntries:0,averageLoadTime:0,averageRenderTime:0,averageMemoryUsage:0};const e=this.entries.reduce((r,s)=>r+s.metrics.pageLoad.loadComplete,0),t=this.entries.reduce((r,s)=>r+s.metrics.runtime.renderTime,0),n=this.entries.reduce((r,s)=>r+(s.metrics.runtime.memoryUsage||0),0);return{totalEntries:this.entries.length,averageLoadTime:e/this.entries.length,averageRenderTime:t/this.entries.length,averageMemoryUsage:n/this.entries.length}}clearEntries(){this.entries=[]}cleanup(){this.observers.forEach(e=>{e.disconnect()}),this.observers=[]}}new PerformanceMonitor;export{accessibilityPreferences as a,announceToScreenReader as b,createLogger as c,errorHandler as e,generateId as g,searchEngine as s};
