import"clsx";import{e as f,a as o,b as j,c as s,m as W,p as y,d as $,s as B,f as ee,h as te}from"./vendor.js";import"./utils.js";import{B as X,P as se,C as ne}from"./components-ui.js";function ce(e,K){$();let{data:T=[],filters:V=[],groupBy:Q="",sortBy:U="",sortDirection:I="asc",title:D,description:l}=K,q="",m=[...V],z=!1,b=Q,E=U,x=I,k=50,C=0;const v=()=>r(T),Z=()=>M(T),H=()=>p(T,m,q,E,x),g=()=>b?R(H(),b):{},N=()=>S(H(),C,k),P=[{value:"count",label:"Count",icon:"#Ô∏è‚É£"},{value:"sum",label:"Sum",icon:"‚ûï"},{value:"avg",label:"Average",icon:"üìä"},{value:"min",label:"Minimum",icon:"‚¨áÔ∏è"},{value:"max",label:"Maximum",icon:"‚¨ÜÔ∏è"},{value:"median",label:"Median",icon:"üìà"}];let G="count";function r(t){if(!t||!t.length)return[];const n=t[0];return typeof n=="object"&&n!==null?Object.keys(n):["value"]}function M(t){if(!t||!t.length)return{};const n={},i=Math.min(100,t.length);return v().forEach(c=>{const h=t.slice(0,i).map(w=>w[c]).filter(w=>w!=null);if(h.length===0){n[c]="unknown";return}const a=h.filter(w=>typeof w=="number"||!isNaN(Number(w))).length,F=h.filter(w=>!isNaN(Date.parse(w))).length,_=h.filter(w=>typeof w=="boolean"||w==="true"||w==="false").length;a/h.length>.8?n[c]="number":F/h.length>.8?n[c]="date":_/h.length>.8?n[c]="boolean":n[c]="text"}),n}function p(t,n,i,u,c){if(!t)return[];let h=[...t];if(i.trim()){const a=i.toLowerCase(),F=v();h=h.filter(_=>F.some(w=>String(_[w]||"").toLowerCase().includes(a)))}if(n.forEach(a=>{a.active&&(h=h.filter(F=>{const _=F[a.field];switch(a.operator){case"equals":return _===a.value;case"contains":return String(_).toLowerCase().includes(String(a.value).toLowerCase());case"greater":return Number(_)>Number(a.value);case"less":return Number(_)<Number(a.value);case"between":{if(Array.isArray(a.value)&&a.value.length===2){const w=Number(_);return w>=Number(a.value[0])&&w<=Number(a.value[1])}return!0}default:return!0}}))}),u){const a=Z();h.sort((F,_)=>{const w=F[u],J=_[u];let Y=0;return a[u]==="number"?Y=Number(w)-Number(J):a[u]==="date"?Y=new Date(w).getTime()-new Date(J).getTime():Y=String(w).localeCompare(String(J)),c==="desc"?-Y:Y})}return h}function R(t,n){return!n||!t.length?{}:t.reduce((i,u)=>{const c=String(u[n]||"Unknown");return i[c]||(i[c]=[]),i[c].push(u),i},{})}function S(t,n,i){const u=n*i;return t.slice(u,u+i)}const O=f(v()),L=f(v()),d=f(v()),A=f(N());e.out.push(`<div class="data-explorer svelte-xd92ey"><div class="explorer-header svelte-xd92ey"><div class="header-title svelte-xd92ey"><h3 class="svelte-xd92ey">${o(D)}</h3> `),e.out.push("<!--[-->"),e.out.push(`<p class="description svelte-xd92ey">${o(l)}</p>`),e.out.push(`<!--]--> <span class="data-count svelte-xd92ey">${o(H().length)} of ${o(T.length)} rows</span></div> <div class="header-actions svelte-xd92ey"><button${j("toggle-btn svelte-xd92ey",void 0,{active:z})} type="button">‚öôÔ∏è Advanced</button> <button class="export-btn svelte-xd92ey" type="button">üíæ Export CSV</button> <button class="clear-btn svelte-xd92ey"${s("disabled",!E&&!b&&m.length===0,!0)} type="button">üóëÔ∏è Clear All</button></div></div> <div class="quick-controls svelte-xd92ey"><div class="search-container svelte-xd92ey"><input type="text" placeholder="Search across all fields..."${s("value",q)} class="search-input svelte-xd92ey"/> <span class="search-icon svelte-xd92ey">üîç</span></div> <div class="quick-filters svelte-xd92ey"><div class="control-group svelte-xd92ey"><label for="group-by-select" class="svelte-xd92ey">Group by:</label> <select id="group-by-select" class="group-select svelte-xd92ey">`),e.select_value=b,e.out.push(`<option value=""${W(e,"")}>No grouping</option><!--[-->`);for(let t=0,n=O.length;t<n;t++){let i=O[t];e.out.push(`<option${s("value",i)}${W(e,i)}>${o(i)} (${o(Z()[i])})</option>`)}e.out.push("<!--]-->"),e.select_value=void 0,e.out.push('</select></div> <div class="control-group svelte-xd92ey"><label for="sort-by-select" class="svelte-xd92ey">Sort by:</label> <select id="sort-by-select" class="sort-select svelte-xd92ey">'),e.select_value=E,e.out.push(`<option value=""${W(e,"")}>No sorting</option><!--[-->`);for(let t=0,n=L.length;t<n;t++){let i=L[t];e.out.push(`<option${s("value",i)}${W(e,i)}>${o(i)}</option>`)}if(e.out.push("<!--]-->"),e.select_value=void 0,e.out.push("</select> "),E?(e.out.push("<!--[-->"),e.out.push(`<button class="sort-direction-btn svelte-xd92ey" title="Toggle sort direction" type="button">${o(x==="asc"?"‚Üë":"‚Üì")}</button>`)):e.out.push("<!--[!-->"),e.out.push("<!--]--></div></div></div> "),e.out.push("<!--[!-->"),e.out.push("<!--]--> "),b&&Object.keys(g()).length>0){e.out.push("<!--[-->");const t=f(P),n=f(Object.entries(g()));e.out.push(`<div class="grouped-data svelte-xd92ey"><h4 class="svelte-xd92ey">Grouped by ${o(b)}</h4> <div class="aggregation-controls svelte-xd92ey"><label for="aggregation-select">Aggregation:</label> <select id="aggregation-select" class="aggregation-select svelte-xd92ey">`),e.select_value=G,e.out.push("<!--[-->");for(let i=0,u=t.length;i<u;i++){let c=t[i];e.out.push(`<option${s("value",c.value)}${W(e,c.value)}>${o(c.icon)} ${o(c.label)}</option>`)}e.out.push("<!--]-->"),e.select_value=void 0,e.out.push('</select></div> <div class="groups-container svelte-xd92ey"><!--[-->');for(let i=0,u=n.length;i<u;i++){let[c,h]=n[i];e.out.push(`<div class="group-item svelte-xd92ey"><div class="group-header svelte-xd92ey"><h5 class="svelte-xd92ey">${o(c)}</h5> <span class="group-count svelte-xd92ey">(${o(h.length)} items)</span></div> `),e.out.push("<!--[!-->"),e.out.push("<!--]--></div>")}e.out.push("<!--]--></div></div>")}else e.out.push("<!--[!-->");e.out.push(`<!--]--> <div class="data-table-container svelte-xd92ey"><div class="table-header svelte-xd92ey"><h4 class="svelte-xd92ey">Data Table</h4> <div class="pagination-info svelte-xd92ey">Page ${o(C+1)} of ${o(Math.ceil(H().length/k))}</div></div> <div class="table-wrapper svelte-xd92ey"><table class="data-table svelte-xd92ey"><thead><tr><!--[-->`);for(let t=0,n=d.length;t<n;t++){let i=d[t];e.out.push(`<th${j("sortable-header svelte-xd92ey",void 0,{sorted:E===i})}><div class="header-content svelte-xd92ey"><span class="field-name svelte-xd92ey">${o(i)}</span> <span class="field-type svelte-xd92ey">(${o(Z()[i])})</span> `),E===i?(e.out.push("<!--[-->"),e.out.push(`<span class="sort-indicator svelte-xd92ey">${o(x==="asc"?"‚Üë":"‚Üì")}</span>`)):e.out.push("<!--[!-->"),e.out.push("<!--]--></div></th>")}e.out.push("<!--]--></tr></thead><tbody><!--[-->");for(let t=0,n=A.length;t<n;t++){let i=A[t];const u=f(v());e.out.push("<tr><!--[-->");for(let c=0,h=u.length;c<h;c++){let a=u[c];e.out.push(`<td${j("data-cell svelte-xd92ey",void 0,{numeric:Z()[a]==="number"})}>`),Z()[a]==="number"?(e.out.push("<!--[-->"),e.out.push(`${o(typeof i[a]=="number"?i[a].toFixed(2):i[a])}`)):(e.out.push("<!--[!-->"),Z()[a]==="date"?(e.out.push("<!--[-->"),e.out.push(`${o(i[a]?new Date(i[a]).toLocaleDateString():"")}`)):(e.out.push("<!--[!-->"),e.out.push(`${o(i[a]||"")}`)),e.out.push("<!--]-->")),e.out.push("<!--]--></td>")}e.out.push("<!--]--></tr>")}if(e.out.push("<!--]--></tbody></table></div> "),Math.ceil(H().length/k)>1){e.out.push("<!--[-->");const t=f(Array(Math.min(5,Math.ceil(H().length/k))));e.out.push(`<div class="pagination svelte-xd92ey"><button class="page-btn svelte-xd92ey"${s("disabled",C===0,!0)} type="button">‚Üê Previous</button> <div class="page-numbers svelte-xd92ey"><!--[-->`);for(let n=0,i=t.length;n<i;n++){t[n];const u=Math.max(0,C-2)+n;u<Math.ceil(H().length/k)?(e.out.push("<!--[-->"),e.out.push(`<button${j("page-number-btn svelte-xd92ey",void 0,{active:u===C})} type="button">${o(u+1)}</button>`)):e.out.push("<!--[!-->"),e.out.push("<!--]-->")}e.out.push(`<!--]--></div> <button class="page-btn svelte-xd92ey"${s("disabled",C>=Math.ceil(H().length/k)-1,!0)} type="button">Next ‚Üí</button></div>`)}else e.out.push("<!--[!-->");e.out.push("<!--]--></div></div>"),y()}function ie(e,K){$();let{parameters:T}=K,V={};function Q(I,D,l){return I.constraints?.[D]??l}const U=f(T);e.out.push('<div class="parameter-controls svelte-ff2kid"><div class="controls-header svelte-ff2kid"><h4 class="controls-title svelte-ff2kid">Parameters</h4> <button class="reset-button svelte-ff2kid" type="button" title="Reset all parameters to default values">Reset</button></div> <div class="controls-grid svelte-ff2kid"><!--[-->');for(let I=0,D=U.length;I<D;I++){let l=U[I];if(e.out.push(`<div class="parameter-control svelte-ff2kid"${s("data-parameter",l.name)}><label class="parameter-label svelte-ff2kid"${s("for",`param-${B(l.name)}`)}>${o(l.name)} `),l.description?(e.out.push("<!--[-->"),e.out.push(`<span class="parameter-description svelte-ff2kid">${o(l.description)}</span>`)):e.out.push("<!--[!-->"),e.out.push('<!--]--></label> <div class="parameter-input svelte-ff2kid">'),l.type==="slider"||l.type==="number"&&l.constraints?.min!==void 0&&l.constraints?.max!==void 0)e.out.push("<!--[-->"),e.out.push(`<div class="slider-container svelte-ff2kid"><input${s("id",`param-${B(l.name)}`)} type="range"${s("min",Q(l,"min",0))}${s("max",Q(l,"max",100))}${s("step",Q(l,"step",1))}${s("value",V[l.name])} class="slider svelte-ff2kid"/> <div class="slider-value svelte-ff2kid">${o(V[l.name])}</div></div>`);else{if(e.out.push("<!--[!-->"),l.type==="dropdown"||l.type==="select"||l.constraints?.options){e.out.push("<!--[-->");const q=f(l.constraints?.options||[]);e.out.push(`<select${s("id",`param-${B(l.name)}`)} class="dropdown svelte-ff2kid">`),e.select_value=V[l.name],e.out.push("<!--[-->");for(let m=0,z=q.length;m<z;m++){let b=q[m];e.out.push(`<option${s("value",b)}${W(e,b)}>${o(b)}</option>`)}e.out.push("<!--]-->"),e.select_value=void 0,e.out.push("</select>")}else e.out.push("<!--[!-->"),l.type==="toggle"||l.type==="boolean"?(e.out.push("<!--[-->"),e.out.push(`<label class="toggle-container svelte-ff2kid"><input${s("id",`param-${B(l.name)}`)} type="checkbox"${s("checked",V[l.name],!0)} class="toggle-input svelte-ff2kid"/> <span class="toggle-slider svelte-ff2kid"></span></label>`)):(e.out.push("<!--[!-->"),l.type==="number"?(e.out.push("<!--[-->"),e.out.push(`<input${s("id",`param-${B(l.name)}`)} type="number"${s("min",Q(l,"min",void 0))}${s("max",Q(l,"max",void 0))}${s("step",Q(l,"step","any"))}${s("value",V[l.name])} class="number-input svelte-ff2kid"/>`)):(e.out.push("<!--[!-->"),l.type==="text"||l.type==="string"?(e.out.push("<!--[-->"),e.out.push(`<input${s("id",`param-${B(l.name)}`)} type="text"${s("value",V[l.name])} class="text-input svelte-ff2kid"${s("placeholder",l.description||"")}/>`)):(e.out.push("<!--[!-->"),e.out.push(`<input${s("id",`param-${B(l.name)}`)} type="text"${s("value",V[l.name])} class="generic-input svelte-ff2kid" placeholder="Enter value..."/>`)),e.out.push("<!--]-->")),e.out.push("<!--]-->")),e.out.push("<!--]-->");e.out.push("<!--]-->")}e.out.push("<!--]--></div></div>")}e.out.push("<!--]--></div> "),T.length===0?(e.out.push("<!--[-->"),e.out.push('<div class="no-parameters svelte-ff2kid"><p>No parameters available for this visualization.</p></div>')):e.out.push("<!--[!-->"),e.out.push("<!--]--></div>"),y()}function ae(e,K){$();let{inputSize:T=3,outputSize:V=2,hiddenLayers:Q=2,neuronsPerHidden:U=5,activation:I="relu"}=K;const D=()=>{const g=[T];for(let N=0;N<Q;N++)g.push(U);return g.push(V),g},l=()=>[{name:"Hidden Layers",type:"slider",default:Q,description:"Number of hidden layers",constraints:{min:0,max:5,step:1}},{name:"Neurons/Hidden",type:"slider",default:U,description:"Neurons per hidden layer",constraints:{min:1,max:12,step:1}},{name:"Activation",type:"select",default:I,description:"Activation function",constraints:{options:["relu","sigmoid","tanh","linear"]}}],q=800,m=420,z={top:20,right:40,bottom:20,left:40},b=()=>q-z.left-z.right,E=()=>m-z.top-z.bottom;function x(){const g=[],N=D().length;for(let P=0;P<N;P++){const G=D()[P];for(let r=0;r<G;r++){const M=z.left+b()*P/Math.max(1,N-1),p=z.top+E()*(r+1)/(G+1);g.push({x:M,y:p,layer:P,index:r})}}return g}const k=x;function C(g){return g===0?"Input":g===D().length-1?"Output":`Hidden ${g}`}const v=f(D()),Z=f(Array(D().length-1)),H=f(k());e.out.push('<div class="nn-visualizer svelte-s5w31d"><header class="nn-header svelte-s5w31d"><h3 class="title svelte-s5w31d">Neural Network Visualizer</h3> <p class="subtitle svelte-s5w31d">Adjust structure and activation to explore architectures</p></header> <div class="controls svelte-s5w31d">'),ie(e,{parameters:l()}),e.out.push(`<!----></div> <div class="canvas-wrapper svelte-s5w31d"><svg${s("width",q)}${s("height",m)} class="nn-svg svelte-s5w31d" role="img" aria-label="Neural network diagram"><!--[-->`);for(let g=0,N=v.length;g<N;g++){let P=v[g];e.out.push(`<text${s("x",z.left+b()*g/Math.max(1,D().length-1))}${s("y",16)} text-anchor="middle" class="layer-label svelte-s5w31d">${o(C(g))} (${o(P)})</text>`)}e.out.push("<!--]--><!--[-->");for(let g=0,N=Z.length;g<N;g++){Z[g];const P=f(k().filter(G=>G.layer===g));e.out.push("<!--[-->");for(let G=0,r=P.length;G<r;G++){let M=P[G];const p=f(k().filter(R=>R.layer===g+1));e.out.push("<!--[-->");for(let R=0,S=p.length;R<S;R++){let O=p[R];e.out.push(`<line${s("x1",M.x)}${s("y1",M.y)}${s("x2",O.x)}${s("y2",O.y)} class="edge svelte-s5w31d"></line>`)}e.out.push("<!--]-->")}e.out.push("<!--]-->")}e.out.push("<!--]--><!--[-->");for(let g=0,N=H.length;g<N;g++){let P=H[g];e.out.push(`<circle${s("cx",P.x)}${s("cy",P.y)}${s("r",12)} class="node svelte-s5w31d"></circle>`)}e.out.push(`<!--]--><g${s("transform",`translate(${q-160}, ${m-24})`)}><rect width="150" height="22" rx="6" class="badge svelte-s5w31d"></rect><text x="75" y="15" text-anchor="middle" class="badge-text svelte-s5w31d">Activation: ${o(I)}</text></g></svg></div></div>`),y()}function he(e,K){$();let{data:T,chartType:V="line",filters:Q=[],config:U={}}=K,I=1,D={x:0,y:0},l=null,q=[],m=U.animations?.enabled??!0,z=V,b=U.layout?.width||800,E=U.layout?.height||500,x=U.layout?.margin||{top:40,right:40,bottom:60,left:60};const k=()=>b-x.left-x.right,C=()=>E-x.top-x.bottom,v=()=>P(T,Q),Z=[{value:"line",label:"Line Chart",icon:"üìà"},{value:"bar",label:"Bar Chart",icon:"üìä"},{value:"scatter",label:"Scatter Plot",icon:"‚ö™"},{value:"heatmap",label:"Heat Map",icon:"üî•"}],H={default:["#0066cc","#ff6b35","#28a745","#ffc107","#dc3545"],viridis:["#440154","#31688e","#35b779","#fde725"],plasma:["#0d0887","#7e03a8","#cc4778","#f89441","#f0f921"],cool:["#6baed6","#4292c6","#2171b5","#08519c","#08306b"]};let g="default";const N=()=>H[g]||H.default;function P(t,n){if(!t?.data)return[];let i=Array.isArray(t.data)?[...t.data]:Object.entries(t.data).map(([u,c])=>({x:u,y:c}));return n.forEach(u=>{u.active&&(i=i.filter(c=>{const h=c[u.field];switch(u.operator){case"equals":return h===u.value;case"contains":return String(h).toLowerCase().includes(String(u.value).toLowerCase());case"greater":return Number(h)>Number(u.value);case"less":return Number(h)<Number(u.value);case"between":if(Array.isArray(u.value)&&u.value.length===2){const a=Number(h);return a>=Number(u.value[0])&&a<=Number(u.value[1])}return!0;default:return!0}}))}),i}function G(t){if(!t.length)return{x_scale:()=>0,y_scale:()=>C()};const n=t.map(_=>_.x),i=t.map(_=>_.y).filter(_=>typeof _=="number"),u=n.every(_=>typeof _=="number");let c,h;if(u){const _=Math.min(...n),w=Math.max(...n);c=J=>(J-_)/(w-_)*k()}else c=(_,w)=>w/Math.max(1,n.length-1)*k();const a=Math.min(...i),F=Math.max(...i);return h=_=>C()-(_-a)/(F-a)*C(),{x_scale:c,y_scale:h}}const r=()=>G(v()),M=(t,n)=>r().x_scale(t,n),p=t=>r().y_scale(t);function R(t,n,i){return t.length<2?"":t.map((u,c)=>{const h=n(u.x,c),a=i(u.y);return`${c===0?"M":"L"} ${h} ${a}`}).join(" ")}function S(){return Math.max(10,k()/Math.max(1,v().length)*.8)}const O=f(Z),L=f(Object.keys(H)),d=f(Array(6)),A=f(Array(6));e.out.push('<div class="advanced-interactive-chart svelte-1cogvj6" aria-label="Interactive Chart"><div class="chart-controls svelte-1cogvj6"><div class="control-group"><span class="control-label">Chart Type:</span> <div class="chart-type-selector"><!--[-->');for(let t=0,n=O.length;t<n;t++){let i=O[t];e.out.push(`<button${j("chart-type-btn svelte-1cogvj6",void 0,{active:z===i.value})}${s("title",i.label)} type="button"><span class="chart-icon">${o(i.icon)}</span> <span class="chart-label">${o(i.label)}</span></button>`)}e.out.push('<!--]--></div></div> <div class="control-group"><span class="control-label">Color Scheme:</span> <select class="color-scheme-select">'),e.select_value=g,e.out.push("<!--[-->");for(let t=0,n=L.length;t<n;t++){let i=L[t];e.out.push(`<option${s("value",i)}${W(e,i)}>${o(i.charAt(0).toUpperCase()+i.slice(1))}</option>`)}e.out.push("<!--]-->"),e.select_value=void 0,e.out.push(`</select></div> <div class="control-group"><button${j("control-btn svelte-1cogvj6",void 0,{active:m})} title="Toggle animations" type="button">üé¨ Animate</button> `),e.out.push("<!--[!-->"),e.out.push(`<!--]--> <button class="control-btn svelte-1cogvj6" title="Export chart" type="button">üíæ Export</button></div> <div class="zoom-info"><span class="zoom-indicator">Zoom: ${o(Math.round(I*100))}%</span> `),q.length>0?(e.out.push("<!--[-->"),e.out.push(`<span class="selection-indicator">Selected: ${o(q.length)}</span>`)):e.out.push("<!--[!-->"),e.out.push(`<!--]--></div></div> <button class="chart-surface-button" type="button" aria-label="Interactive chart canvas" title="Interactive chart canvas"><svg${s("width",b)}${s("height",E)}${j("chart-svg svelte-1cogvj6",void 0,{animated:m})}${ee(`transform: scale(${B(I)}) translate(${B(D.x)}px, ${B(D.y)}px);`)} aria-hidden="true"><defs><linearGradient id="chart-gradient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%"${ee(`stop-color:${B(N[0])};stop-opacity:0.8`)}></stop><stop offset="100%"${ee(`stop-color:${B(N[0])};stop-opacity:0.1`)}></stop></linearGradient></defs><rect${s("x",x.left)}${s("y",x.top)}${s("width",k())}${s("height",C())} fill="var(--chart-bg, #fafafa)" stroke="var(--chart-border, #e1e5e9)" rx="4"></rect><g class="grid" opacity="0.3"><!--[-->`);for(let t=0,n=d.length;t<n;t++)d[t],e.out.push(`<line${s("x1",x.left)}${s("y1",x.top+t*C()/5)}${s("x2",x.left+k())}${s("y2",x.top+t*C()/5)} stroke="var(--grid-color, #e9ecef)" stroke-width="1"></line>`);e.out.push("<!--]--><!--[-->");for(let t=0,n=A.length;t<n;t++)A[t],e.out.push(`<line${s("x1",x.left+t*k()/5)}${s("y1",x.top)}${s("x2",x.left+t*k()/5)}${s("y2",x.top+C())} stroke="var(--grid-color, #e9ecef)" stroke-width="1"></line>`);if(e.out.push(`<!--]--></g><g class="data-layer"${s("transform",`translate(${B(x.left)}, ${B(x.top)})`)}>`),z==="line"&&v().length>1)e.out.push("<!--[-->"),e.out.push(`<path${s("d",R(v(),M,p))} fill="none"${s("stroke",N[0])} stroke-width="3"${j("line-path",void 0,{animated:m})}></path><path${s("d",R(v(),M,p)+` L ${M(v()[v().length-1].x,v().length-1)} ${C()} L ${M(v()[0].x,0)} ${C()} Z`)} fill="url(#chart-gradient)" opacity="0.3"${j("area-fill",void 0,{animated:m})}></path>`);else{if(e.out.push("<!--[!-->"),z==="bar"){e.out.push("<!--[-->");const t=f(v());e.out.push("<!--[-->");for(let n=0,i=t.length;n<i;n++){let u=t[n];const c=M(u.x,n),h=p(u.y),a=S();e.out.push(`<rect${s("x",c-a/2)}${s("y",h)}${s("width",a)}${s("height",C()-h)}${s("fill",N[n%N.length])}${s("stroke",q.includes(u)?"#000":"none")} stroke-width="2"${j("bar-rect",void 0,{hovered:l===u,selected:q.includes(u),animated:m})}></rect>`)}e.out.push("<!--]-->")}else{if(e.out.push("<!--[!-->"),z==="scatter"){e.out.push("<!--[-->");const t=f(v());e.out.push("<!--[-->");for(let n=0,i=t.length;n<i;n++){let u=t[n];const c=M(u.x,n),h=p(u.y);e.out.push(`<circle${s("cx",c)}${s("cy",h)}${s("r",q.includes(u)?8:l===u?6:4)}${s("fill",N[n%N.length])}${s("stroke",q.includes(u)?"#000":"#fff")} stroke-width="2"${j("scatter-point",void 0,{hovered:l===u,selected:q.includes(u),animated:m})}></circle>`)}e.out.push("<!--]-->")}else{if(e.out.push("<!--[!-->"),z==="heatmap"){e.out.push("<!--[-->");const t=f(v());e.out.push("<!--[-->");for(let n=0,i=t.length;n<i;n++){let u=t[n];const c=n%Math.ceil(Math.sqrt(v().length))*(k()/Math.ceil(Math.sqrt(v().length))),h=Math.floor(n/Math.ceil(Math.sqrt(v().length)))*(C()/Math.ceil(Math.sqrt(v().length))),a=Math.min(k(),C())/Math.ceil(Math.sqrt(v().length)),F=Math.abs(u.y)/Math.max(...v().map(_=>Math.abs(_.y)));e.out.push(`<rect${s("x",c)}${s("y",h)}${s("width",a)}${s("height",a)}${s("fill",`rgba(0, 102, 204, ${F})`)}${s("stroke",q.includes(u)?"#000":"none")} stroke-width="1"${j("heatmap-cell",void 0,{hovered:l===u,selected:q.includes(u),animated:m})}></rect>`)}e.out.push("<!--]-->")}else e.out.push("<!--[!-->");e.out.push("<!--]-->")}e.out.push("<!--]-->")}e.out.push("<!--]-->")}e.out.push("<!--]--></g></svg></button> "),e.out.push("<!--[!-->"),e.out.push("<!--]--></div>"),y()}function ve(e,K){$();let{document:T,showToc:V=!0,enableBookmarks:Q=!0,enableAnnotations:U=!0,enableProgressTracking:I=!0,class:D=""}=K,l=0,q=0,m=[],z=new Map,b=new Set,E=new Map,x=!1,k=!1;const C=T.structure.sections.length,v=T.structure.sections[l];function Z(r){b.has(r)?b.delete(r):b.add(r),b=new Set(b)}function H(r){if(!Q)return;const M=m.indexOf(r);M>=0?m.splice(M,1):m.push(r),m=[...m]}function g(r){z.delete(r),z=new Map(z)}function N(r,M){E.set(r,{questions:M,currentQuestion:0,answers:new Map,score:0,completed:!1}),E=new Map(E)}function P(r,M){switch(r.type){case"text":return r.content;case"code":return`<pre><code class="language-${r.content.language||"text"}">${r.content.code}</code></pre>`;case"image":return`<img src="${r.content.url}" alt="${r.content.alt||""}" loading="lazy" />`;case"video":return`<video controls><source src="${r.content.url}" type="${r.content.type}" /></video>`;case"quiz":return"";default:return`<div class="unsupported-block">Unsupported block type: ${r.type}</div>`}}const G=f(T.structure.sections);e.out.push(`<div${j(`interactive-article-viewer ${B(D)}`,"svelte-1i19rg8")}><header class="article-header svelte-1i19rg8"><div class="header-content svelte-1i19rg8"><h1 class="article-title svelte-1i19rg8">${o(T.title)}</h1> <div class="article-meta svelte-1i19rg8"><span class="meta-item svelte-1i19rg8">${o(T.metadata.pageCount?`${T.metadata.pageCount} pages`:"")}</span> <span class="meta-item svelte-1i19rg8">${o(Math.ceil(T.metadata.extractedText/200))} min read</span></div></div> <div class="header-controls svelte-1i19rg8">`),X(e,{variant:"ghost",size:"sm",onclick:()=>x=!x,"aria-label":"Toggle table of contents","aria-expanded":x,children:r=>{r.out.push('<svg class="w-4 h-4 svelte-1i19rg8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" class="svelte-1i19rg8"></path></svg> TOC')},$$slots:{default:!0}}),e.out.push("<!----> "),Q?(e.out.push("<!--[-->"),X(e,{variant:"ghost",size:"sm",onclick:()=>H(v?.id||""),"aria-label":m.includes(v?.id||"")?"Remove bookmark":"Add bookmark",class:m.includes(v?.id||"")?"text-yellow-600":"",children:r=>{r.out.push(`<svg class="w-4 h-4 svelte-1i19rg8"${s("fill",m.includes(v?.id||"")?"currentColor":"none")} stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z" class="svelte-1i19rg8"></path></svg>`)},$$slots:{default:!0}})):e.out.push("<!--[!-->"),e.out.push("<!--]--> "),U?(e.out.push("<!--[-->"),X(e,{variant:"ghost",size:"sm",onclick:()=>k=!k,"aria-label":"Toggle annotation mode","aria-pressed":k,class:k?"bg-blue-100 text-blue-700":"",children:r=>{r.out.push('<svg class="w-4 h-4 svelte-1i19rg8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" class="svelte-1i19rg8"></path></svg>')},$$slots:{default:!0}})):e.out.push("<!--[!-->"),e.out.push("<!--]--></div></header> "),I?(e.out.push("<!--[-->"),e.out.push('<div class="progress-container svelte-1i19rg8">'),se(e,{value:q,size:"sm",variant:"default",showLabel:!1,animated:!0}),e.out.push(`<!----> <span class="progress-text svelte-1i19rg8">Section ${o(l+1)} of ${o(C)}</span></div>`)):e.out.push("<!--[!-->"),e.out.push('<!--]--> <div class="article-layout svelte-1i19rg8">'),V&&x?(e.out.push("<!--[-->"),e.out.push('<aside class="toc-sidebar svelte-1i19rg8">'),ne(e,{class:"toc-card",children:r=>{const M=f(T.structure.toc.entries);r.out.push('<h2 class="toc-title svelte-1i19rg8">Table of Contents</h2> <nav class="toc-nav svelte-1i19rg8" aria-label="Article navigation"><ul class="toc-list svelte-1i19rg8"><!--[-->');for(let p=0,R=M.length;p<R;p++){let S=M[p];if(r.out.push(`<li${j(`toc-item level-${B(S.level)}`,"svelte-1i19rg8")}><button${j("toc-link svelte-1i19rg8",void 0,{active:v?.id===S.id})}>${o(S.title)} `),m.includes(S.id)?(r.out.push("<!--[-->"),r.out.push('<svg class="bookmark-icon svelte-1i19rg8" fill="currentColor" viewBox="0 0 20 20"><path d="M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z" class="svelte-1i19rg8"></path></svg>')):r.out.push("<!--[!-->"),r.out.push("<!--]--></button> "),S.children.length>0){r.out.push("<!--[-->");const O=f(S.children);r.out.push('<ul class="toc-sublist svelte-1i19rg8"><!--[-->');for(let L=0,d=O.length;L<d;L++){let A=O[L];r.out.push(`<li${j(`toc-item level-${B(A.level)}`,"svelte-1i19rg8")}><button${j("toc-link svelte-1i19rg8",void 0,{active:v?.id===A.id})}>${o(A.title)}</button></li>`)}r.out.push("<!--]--></ul>")}else r.out.push("<!--[!-->");r.out.push("<!--]--></li>")}r.out.push("<!--]--></ul></nav>")},$$slots:{default:!0}}),e.out.push("<!----></aside>")):e.out.push("<!--[!-->"),e.out.push('<!--]--> <main class="article-main svelte-1i19rg8"><article class="article-content svelte-1i19rg8" role="main"><!--[-->');for(let r=0,M=G.length;r<M;r++){let p=G[r];const R=f(p.content);e.out.push(`<section class="content-section svelte-1i19rg8"${s("data-section-index",r)}${s("data-section-id",p.id)}><header class="section-header svelte-1i19rg8"><h2${j(`section-title level-${B(p.level)}`,"svelte-1i19rg8")}>${o(p.title)} `),p.subsections.length>0?(e.out.push("<!--[-->"),X(e,{variant:"ghost",size:"xs",onclick:()=>Z(p.id),"aria-label":b.has(p.id)?"Collapse section":"Expand section","aria-expanded":b.has(p.id),children:S=>{S.out.push(`<svg${j("w-3 h-3 transition-transform svelte-1i19rg8",void 0,{"rotate-90":b.has(p.id)})} fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" class="svelte-1i19rg8"></path></svg>`)},$$slots:{default:!0}})):e.out.push("<!--[!-->"),e.out.push("<!--]--></h2> "),z.has(p.id)?(e.out.push("<!--[-->"),e.out.push(`<div class="annotation svelte-1i19rg8"><div class="annotation-content svelte-1i19rg8">${o(z.get(p.id))}</div> `),X(e,{variant:"ghost",size:"xs",onclick:()=>g(p.id),"aria-label":"Remove annotation",children:S=>{S.out.push('<svg class="w-3 h-3 svelte-1i19rg8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" class="svelte-1i19rg8"></path></svg>')},$$slots:{default:!0}}),e.out.push("<!----></div>")):e.out.push("<!--[!-->"),e.out.push(`<!--]--></header> <div${j("section-content svelte-1i19rg8",void 0,{collapsed:!b.has(p.id)&&p.subsections.length>0})}><!--[-->`);for(let S=0,O=R.length;S<O;S++){let L=R[S];e.out.push(`<div class="content-block svelte-1i19rg8"${s("data-block-id",L.id)}>`),L.type==="quiz"?(e.out.push("<!--[-->"),ne(e,{class:"quiz-card",children:d=>{if(d.out.push(`<h3 class="quiz-title svelte-1i19rg8">Quiz: ${o(L.content.title||"Knowledge Check")}</h3> `),!E.has(L.id))d.out.push("<!--[-->"),X(d,{onclick:()=>N(L.id,L.content.questions),children:A=>{A.out.push("<!---->Start Quiz")},$$slots:{default:!0}});else{d.out.push("<!--[!-->");const A=E.get(L.id);if(A&&!A.completed){d.out.push("<!--[-->");const t=A.questions[A.currentQuestion];if(d.out.push(`<div class="quiz-question svelte-1i19rg8"><h4 class="svelte-1i19rg8">${o(t.question)}</h4> `),t.type==="multiple-choice"){d.out.push("<!--[-->");const n=f(t.options||[]);d.out.push('<div class="quiz-options svelte-1i19rg8"><!--[-->');for(let i=0,u=n.length;i<u;i++){let c=n[i];d.out.push(`<label class="quiz-option svelte-1i19rg8"><input type="radio"${s("name",`quiz-${B(L.id)}-${B(t.id)}`)}${s("value",i)} class="svelte-1i19rg8"/> ${o(c)}</label>`)}d.out.push("<!--]--></div>")}else d.out.push("<!--[!-->");d.out.push("<!--]--></div>")}else d.out.push("<!--[!-->"),A?.completed?(d.out.push("<!--[-->"),d.out.push(`<div class="quiz-results svelte-1i19rg8"><h4 class="svelte-1i19rg8">Quiz Complete!</h4> <p class="svelte-1i19rg8">Score: ${o(Math.round(A.score))}%</p> `),se(d,{value:A.score,variant:A.score>=70?"success":"warning"}),d.out.push("<!----></div>")):d.out.push("<!--[!-->"),d.out.push("<!--]-->");d.out.push("<!--]-->")}d.out.push("<!--]-->")},$$slots:{default:!0}})):(e.out.push("<!--[!-->"),e.out.push(`<div class="prose svelte-1i19rg8">${te(P(L,p.id))}</div>`)),e.out.push("<!--]--></div>")}if(e.out.push("<!--]--> "),p.subsections.length>0&&b.has(p.id)){e.out.push("<!--[-->");const S=f(p.subsections);e.out.push("<!--[-->");for(let O=0,L=S.length;O<L;O++){let d=S[O];const A=f(d.content);e.out.push(`<section class="subsection svelte-1i19rg8"${s("data-section-id",d.id)}><h3${j(`subsection-title level-${B(d.level)}`,"svelte-1i19rg8")}>${o(d.title)}</h3> <div class="subsection-content svelte-1i19rg8"><!--[-->`);for(let t=0,n=A.length;t<n;t++){let i=A[t];e.out.push(`<div class="content-block svelte-1i19rg8"><div class="prose svelte-1i19rg8">${te(P(i,d.id))}</div></div>`)}e.out.push("<!--]--></div></section>")}e.out.push("<!--]-->")}else e.out.push("<!--[!-->");e.out.push("<!--]--></div></section>")}e.out.push("<!--]--></article></main></div> "),e.out.push("<!--[!-->"),e.out.push("<!--]--></div>"),y()}export{he as A,ce as D,ve as I,ae as N};
